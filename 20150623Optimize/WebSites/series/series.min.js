window.series={path:{}};(function(){var v=this;var l=v._;var I=Array.prototype,g=Object.prototype,o=Function.prototype;var L=I.push,m=I.slice,c=g.toString,j=g.hasOwnProperty;var t=Array.isArray,e=Object.keys,J=o.bind,B=Object.create;var E=function(){};var N=function(O){if(O instanceof N){return O}if(!(this instanceof N)){return new N(O)}this._wrapped=O};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=N}exports._=N}else{v._=N}N.VERSION="1.7.0";var b=function(P,O,Q){if(O===void 0){return P}switch(Q==null?3:Q){case 1:return function(R){return P.call(O,R)};case 2:return function(S,R){return P.call(O,S,R)};case 3:return function(S,R,T){return P.call(O,S,R,T)};case 4:return function(R,T,S,U){return P.call(O,R,T,S,U)}}return function(){return P.apply(O,arguments)}};var F=function(P,O,Q){if(P==null){return N.identity}if(N.isFunction(P)){return b(P,O,Q)}if(N.isObject(P)){return N.matches(P)}return N.property(P)};N.iteratee=function(P,O){return F(P,O,Infinity)};var q=function(P,O){return function(X){var V=arguments.length;if(V<2||X==null){return X}for(var R=1;R<V;R++){var W=arguments[R],U=P(W),Q=U.length;for(var T=0;T<Q;T++){var S=U[T];if(!O||X[S]===void 0){X[S]=W[S]}}}return X}};var C=function(P){if(!N.isObject(P)){return{}}if(B){return B(P)}E.prototype=P;var O=new E;E.prototype=null;return O};var K=Math.pow(2,53)-1;var D=function(P){var O=P&&P.length;return typeof O=="number"&&O>=0&&O<=K};N.each=N.forEach=function(S,T,P){if(S==null){return S}T=b(T,P);var O,R=S.length;if(D(S)){for(O=0;O<R;O++){T(S[O],O,S)}}else{var Q=N.keys(S);for(O=0,R=Q.length;O<R;O++){T(S[Q[O]],Q[O],S)}}return S};N.map=N.collect=function(T,V,Q){if(T==null){return[]}V=F(V,Q);var S=!D(T)&&N.keys(T),R=(S||T).length,P=Array(R),U;for(var O=0;O<R;O++){U=S?S[O]:O;P[O]=V(T[U],U,T)}return P};function z(O){function P(U,W,Q,T,R,S){for(;R>=0&&R<S;R+=O){var V=T?T[R]:R;Q=W(Q,U[V],V,U)}return Q}return function(V,W,Q,S){if(V==null){return Q}W=b(W,S,4);var U=!D(V)&&N.keys(V),T=(U||V).length,R=O>0?0:T-1;if(arguments.length<3){Q=V[U?U[R]:R];R+=O}return P(V,W,Q,U,R,T)}}N.reduce=N.foldl=N.inject=z(1);N.reduceRight=N.foldr=z(-1);N.transform=function(S,T,R,O){if(R==null){if(N.isArray(S)){R=[]}else{if(N.isObject(S)){var Q=S.constructor;R=C(typeof Q=="function"&&Q.prototype)}else{R={}}}}if(S==null){return R}T=b(T,O,4);var W=S.length!==+S.length&&N.keys(S),P=(W||S).length,U,V;for(U=0;U<P;U++){V=W?W[U]:U;if(T(R,S[V],V,S)===false){break}}return R};N.find=N.detect=function(R,O,Q){var P;if(D(R)){P=N.findIndex(R,O,Q)}else{P=N.findKey(R,O,Q)}if(P!==void 0&&P!==-1){return R[P]}};N.filter=N.select=function(R,O,Q){var P=[];if(R==null){return P}O=F(O,Q);N.each(R,function(U,S,T){if(O(U,S,T)){P.push(U)}});return P};N.reject=function(Q,O,P){return N.filter(Q,N.negate(F(O)),P)};N.every=N.all=function(T,O,Q){if(T==null){return true}O=F(O,Q);var S=!D(T)&&N.keys(T),R=(S||T).length,P,U;for(P=0;P<R;P++){U=S?S[P]:P;if(!O(T[U],U,T)){return false}}return true};N.some=N.any=function(T,O,Q){if(T==null){return false}O=F(O,Q);var S=!D(T)&&N.keys(T),R=(S||T).length,P,U;for(P=0;P<R;P++){U=S?S[P]:P;if(O(T[U],U,T)){return true}}return false};N.contains=N.includes=N.include=function(Q,P,O){if(Q==null){return false}if(!D(Q)){Q=N.values(Q)}return N.indexOf(Q,P,typeof O=="number"&&O)>=0};N.invoke=function(Q,R){var O=m.call(arguments,2);var P=N.isFunction(R);return N.map(Q,function(T){var S=P?R:T[R];return S==null?S:S.apply(T,O)})};N.pluck=function(P,O){return N.map(P,N.property(O))};N.where=function(P,O){return N.filter(P,N.matches(O))};N.findWhere=function(P,O){return N.find(P,N.matches(O))};N.max=function(R,T,O){var W=-Infinity,U=-Infinity,V,Q;if(T==null&&R!=null){R=D(R)?R:N.values(R);for(var S=0,P=R.length;S<P;S++){V=R[S];if(V>W){W=V}}}else{T=F(T,O);N.each(R,function(Z,X,Y){Q=T(Z,X,Y);if(Q>U||Q===-Infinity&&W===-Infinity){W=Z;U=Q}})}return W};N.min=function(R,T,O){var W=Infinity,U=Infinity,V,Q;if(T==null&&R!=null){R=D(R)?R:N.values(R);for(var S=0,P=R.length;S<P;S++){V=R[S];if(V<W){W=V}}}else{T=F(T,O);N.each(R,function(Z,X,Y){Q=T(Z,X,Y);if(Q<U||Q===Infinity&&W===Infinity){W=Z;U=Q}})}return W};N.shuffle=function(S){var T=D(S)?S:N.values(S);var R=T.length;var O=Array(R);for(var P=0,Q;P<R;P++){Q=N.random(0,P);if(Q!==P){O[P]=O[Q]}O[Q]=T[P]}return O};N.sample=function(P,Q,O){if(Q==null||O){if(!D(P)){P=N.values(P)}return P[N.random(P.length-1)]}return N.shuffle(P).slice(0,Math.max(0,Q))};N.sortBy=function(P,Q,O){Q=F(Q,O);return N.pluck(N.map(P,function(T,R,S){return{value:T,index:R,criteria:Q(T,R,S)}}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1}if(S<R||R===void 0){return -1}}return U.index-T.index}),"value")};var r=function(O){return function(R,S,Q){var P={};S=F(S,Q);N.each(R,function(V,T){var U=S(V,T,R);O(P,V,U)});return P}};N.groupBy=r(function(O,Q,P){if(N.has(O,P)){O[P].push(Q)}else{O[P]=[Q]}});N.indexBy=r(function(O,Q,P){O[P]=Q});N.countBy=r(function(O,Q,P){if(N.has(O,P)){O[P]++}else{O[P]=1}});N.toArray=function(O){if(!O){return[]}if(N.isArray(O)){return m.call(O)}if(D(O)){return N.map(O,N.identity)}return N.values(O)};N.size=function(O){if(O==null){return 0}return D(O)?O.length:N.keys(O).length};N.partition=function(S,O,Q){O=F(O,Q);var R=[],P=[];N.each(S,function(U,T,V){(O(U,T,V)?R:P).push(U)});return[R,P]};N.first=N.head=N.take=function(Q,P,O){if(Q==null){return void 0}if(P==null||O){return Q[0]}return N.initial(Q,Q.length-P)};N.initial=function(Q,P,O){return m.call(Q,0,Math.max(0,Q.length-(P==null||O?1:P)))};N.last=function(Q,P,O){if(Q==null){return void 0}if(P==null||O){return Q[Q.length-1]}return N.rest(Q,Math.max(0,Q.length-P))};N.rest=N.tail=N.drop=function(Q,P,O){return m.call(Q,P==null||O?1:P)};N.compact=function(O){return N.filter(O,N.identity)};var w=function(U,Q,V,Y){var P=[],X=0,W;for(var S=Y||0,O=U&&U.length;S<O;S++){W=U[S];if(D(W)&&(N.isArray(W)||N.isArguments(W))){if(!Q){W=w(W,Q,V)}var R=0,T=W.length;P.length+=T;while(R<T){P[X++]=W[R++]}}else{if(!V){P[X++]=W}}}return P};N.flatten=function(P,O){return w(P,O,false)};N.without=function(O){return N.difference(O,m.call(arguments,1))};N.uniq=N.unique=function(V,R,U,P){if(V==null){return[]}if(!N.isBoolean(R)){P=U;U=R;R=false}if(U!=null){U=F(U,P)}var X=[];var O=[];for(var T=0,Q=V.length;T<Q;T++){var W=V[T],S=U?U(W,T,V):W;if(R){if(!T||O!==S){X.push(W)}O=S}else{if(U){if(!N.contains(O,S)){O.push(S);X.push(W)}}else{if(!N.contains(X,W)){X.push(W)}}}}return X};N.union=function(){return N.uniq(w(arguments,true,true))};N.intersection=function(U){if(U==null){return[]}var O=[];var T=arguments.length;for(var Q=0,S=U.length;Q<S;Q++){var R=U[Q];if(N.contains(O,R)){continue}for(var P=1;P<T;P++){if(!N.contains(arguments[P],R)){break}}if(P===T){O.push(R)}}return O};N.difference=function(P){var O=w(arguments,true,true,1);return N.filter(P,function(Q){return !N.contains(O,Q)})};N.zip=function(){return N.unzip(arguments)};N.unzip=function(R){var Q=R&&N.max(R,"length").length||0;var O=Array(Q);for(var P=0;P<Q;P++){O[P]=N.pluck(R,P)}return O};N.object=function(S,P){if(S==null){return{}}var O={};for(var Q=0,R=S.length;Q<R;Q++){if(P){O[S[Q]]=P[Q]}else{O[S[Q][0]]=S[Q][1]}}return O};N.indexOf=function(S,Q,R){var O=0,P=S&&S.length;if(typeof R=="number"){O=R<0?Math.max(0,P+R):R}else{if(R&&P){O=N.sortedIndex(S,Q);return S[O]===Q?O:-1}}if(Q!==Q){return N.findIndex(m.call(S,O),N.isNaN)}for(;O<P;O++){if(S[O]===Q){return O}}return -1};N.lastIndexOf=function(R,P,Q){var O=R?R.length:0;if(typeof Q=="number"){O=Q<0?O+Q+1:Math.min(O,Q+1)}if(P!==P){return N.findLastIndex(m.call(R,0,O),N.isNaN)}while(--O>=0){if(R[O]===P){return O}}return -1};function f(O){return function(T,P,R){P=F(P,R);var S=T!=null&&T.length;var Q=O>0?0:S-1;for(;Q>=0&&Q<S;Q+=O){if(P(T[Q],Q,T)){return Q}}return -1}}N.findIndex=f(1);N.findLastIndex=f(-1);N.sortedIndex=function(V,T,U,Q){U=F(U,Q,1);var S=U(T);var O=0,R=V.length;while(O<R){var P=Math.floor((O+R)/2);if(U(V[P])<S){O=P+1}else{R=P}}return O};N.range=function(T,Q,S){if(arguments.length<=1){Q=T||0;T=0}S=S||1;var R=Math.max(Math.ceil((Q-T)/S),0);var P=Array(R);for(var O=0;O<R;O++,T+=S){P[O]=T}return P};var y=function(T,Q,S,U,R){if(!(U instanceof Q)){return T.apply(S,R)}var P=C(T.prototype);var O=T.apply(P,R);if(N.isObject(O)){return O}return P};N.bind=function(R,P){if(J&&R.bind===J){return J.apply(R,m.call(arguments,1))}if(!N.isFunction(R)){throw new TypeError("Bind must be called on a function")}var O=m.call(arguments,2);return function Q(){return y(R,Q,P,this,O.concat(m.call(arguments)))}};N.partial=function(P){var Q=m.call(arguments,1);return function O(){var R=0,U=Q.length;var S=Array(U);for(var T=0;T<U;T++){S[T]=Q[T]===N?arguments[R++]:Q[T]}while(R<arguments.length){S.push(arguments[R++])}return y(P,O,this,this,S)}};N.bindAll=function(R){var P,Q=arguments.length,O;if(Q<=1){throw new Error("bindAll must be passed function names")}for(P=1;P<Q;P++){O=arguments[P];R[O]=N.bind(R[O],R)}return R};N.memoize=function(P,O){var Q=function(T){var S=Q.cache;var R=""+(O?O.apply(this,arguments):T);if(!N.has(S,R)){S[R]=P.apply(this,arguments)}return S[R]};Q.cache={};return Q};N.delay=function(P,Q){var O=m.call(arguments,2);return setTimeout(function(){return P.apply(null,O)},Q)};N.defer=N.partial(N.delay,N,1);N.throttle=function(P,R,V){var O,T,W;var U=null;var S=0;if(!V){V={}}var Q=function(){S=V.leading===false?0:N.now();U=null;W=P.apply(O,T);if(!U){O=T=null}};return function(){var X=N.now();if(!S&&V.leading===false){S=X}var Y=R-(X-S);O=this;T=arguments;if(Y<=0||Y>R){if(U){clearTimeout(U);U=null}S=X;W=P.apply(O,T);if(!U){O=T=null}}else{if(!U&&V.trailing!==false){U=setTimeout(Q,Y)}}return W}};N.debounce=function(Q,S,P){var V,U,O,T,W;var R=function(){var X=N.now()-T;if(X<S&&X>=0){V=setTimeout(R,S-X)}else{V=null;if(!P){W=Q.apply(O,U);if(!V){O=U=null}}}};return function(){O=this;U=arguments;T=N.now();var X=P&&!V;if(!V){V=setTimeout(R,S)}if(X){W=Q.apply(O,U);O=U=null}return W}};N.wrap=function(O,P){return N.partial(P,O)};N.negate=function(O){return function(){return !O.apply(this,arguments)}};N.compose=function(){var O=arguments;var P=O.length-1;return function(){var R=P;var Q=O[P].apply(this,arguments);while(R--){Q=O[R].call(this,Q)}return Q}};N.after=function(P,O){return function(){if(--P<1){return O.apply(this,arguments)}}};N.before=function(Q,P){var O;return function(){if(--Q>0){O=P.apply(this,arguments)}if(Q<=1){P=null}return O}};N.once=N.partial(N.before,2);var G=!{toString:null}.propertyIsEnumerable("toString")&&typeof window!="undefined";var a=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function d(R,Q){var O=a.length;var P=typeof R.constructor==="function"?o:g;while(O--){var S=a[O];if(S==="constructor"?N.has(R,S):S in R&&R[S]!==P[S]&&!N.contains(Q,S)){Q.push(S)}}}N.keys=function(Q){if(!N.isObject(Q)){return[]}if(e){return e(Q)}var P=[];for(var O in Q){if(N.has(Q,O)){P.push(O)}}if(G){d(Q,P)}return P};N.keysIn=function(Q){if(!N.isObject(Q)){return[]}var P=[];for(var O in Q){P.push(O)}if(G){d(Q,P)}return P};N.values=function(S){var R=N.keys(S);var Q=R.length;var O=Array(Q);for(var P=0;P<Q;P++){O[P]=S[R[P]]}return O};N.pairs=function(S){var Q=N.keys(S);var P=Q.length;var R=Array(P);for(var O=0;O<P;O++){R[O]=[Q[O],S[Q[O]]]}return R};N.invert=function(S){var O={};var R=N.keys(S);for(var P=0,Q=R.length;P<Q;P++){O[S[R[P]]]=R[P]}return O};N.functions=N.methods=function(Q){var P=[];for(var O in Q){if(N.isFunction(Q[O])){P.push(O)}}return P.sort()};N.extend=q(N.keysIn);N.assign=q(N.keys);N.findKey=function(U,O,R){O=F(O,R);var T=N.keys(U),Q;for(var P=0,S=T.length;P<S;P++){Q=T[P];if(O(U[Q],Q,U)){return Q}}};N.pick=function(Q,S,O){var W={},U;if(Q==null){return W}if(N.isFunction(S)){S=b(S,O);for(U in Q){var T=Q[U];if(S(T,U,Q)){W[U]=T}}}else{var V=w(arguments,false,false,1);Q=new Object(Q);for(var R=0,P=V.length;R<P;R++){U=V[R];if(U in Q){W[U]=Q[U]}}}return W};N.omit=function(Q,R,O){if(N.isFunction(R)){R=N.negate(R)}else{var P=N.map(w(arguments,false,false,1),String);R=function(T,S){return !N.contains(P,S)}}return N.pick(Q,R,O)};N.defaults=q(N.keysIn,true);N.create=function(P,Q){var O=C(P);if(Q){N.assign(O,Q)}return O};N.clone=function(O){if(!N.isObject(O)){return O}return N.isArray(O)?O.slice():N.extend({},O)};N.tap=function(P,O){O(P);return P};var M=function(W,V,P,R){if(W===V){return W!==0||1/W===1/V}if(W==null||V==null){return W===V}if(W instanceof N){W=W._wrapped}if(V instanceof N){V=V._wrapped}var T=c.call(W);if(T!==c.call(V)){return false}switch(T){case"[object RegExp]":case"[object String]":return""+W===""+V;case"[object Number]":if(+W!==+W){return +V!==+V}return +W===0?1/+W===1/V:+W===+V;case"[object Date]":case"[object Boolean]":return +W===+V}var Q=T==="[object Array]";if(!Q){if(typeof W!="object"||typeof V!="object"){return false}var U=W.constructor,S=V.constructor;if(U!==S&&!(N.isFunction(U)&&U instanceof U&&N.isFunction(S)&&S instanceof S)&&("constructor" in W&&"constructor" in V)){return false}}P=P||[];R=R||[];var O=P.length;while(O--){if(P[O]===W){return R[O]===V}}P.push(W);R.push(V);if(Q){O=W.length;if(O!==V.length){return false}while(O--){if(!M(W[O],V[O],P,R)){return false}}}else{var Y=N.keys(W),X;O=Y.length;if(N.keys(V).length!==O){return false}while(O--){X=Y[O];if(!(N.has(V,X)&&M(W[X],V[X],P,R))){return false}}}P.pop();R.pop();return true};N.isEqual=function(P,O){return M(P,O)};N.isEmpty=function(O){if(O==null){return true}if(D(O)&&(N.isArray(O)||N.isString(O)||N.isArguments(O))){return O.length===0}return N.keys(O).length===0};N.isElement=function(O){return !!(O&&O.nodeType===1)};N.isArray=t||function(O){return c.call(O)==="[object Array]"};N.isObject=function(P){var O=typeof P;return O==="function"||O==="object"&&!!P};N.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(O){N["is"+O]=function(P){return c.call(P)==="[object "+O+"]"}});if(!N.isArguments(arguments)){N.isArguments=function(O){return N.has(O,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){N.isFunction=function(O){return typeof O=="function"||false}}N.isFinite=function(O){return isFinite(O)&&!isNaN(parseFloat(O))};N.isNaN=function(O){return N.isNumber(O)&&O!==+O};N.isBoolean=function(O){return O===true||O===false||c.call(O)==="[object Boolean]"};N.isNull=function(O){return O===null};N.isUndefined=function(O){return O===void 0};N.has=function(P,O){return P!=null&&j.call(P,O)};N.noConflict=function(){v._=l;return this};N.identity=function(O){return O};N.constant=function(O){return function(){return O}};N.noop=function(){};N.property=function(O){return function(P){return P==null?void 0:P[O]}};N.propertyOf=function(O){return O==null?function(){}:function(P){return O[P]}};N.matches=function(O){var Q=N.pairs(O),P=Q.length;return function(T){if(T==null){return !P}T=new Object(T);for(var S=0;S<P;S++){var U=Q[S],R=U[0];if(U[1]!==T[R]||!(R in T)){return false}}return true}};N.times=function(S,R,Q){var O=Array(Math.max(0,S));R=b(R,Q,1);for(var P=0;P<S;P++){O[P]=R(P)}return O};N.random=function(P,O){if(O==null){O=P;P=0}return P+Math.floor(Math.random()*(O-P+1))};N.now=Date.now||function(){return new Date().getTime()};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var n=N.invert(s);var x=function(S){var P=function(T){return S[T]};var R="(?:"+N.keys(S).join("|")+")";var Q=RegExp(R);var O=RegExp(R,"g");return function(T){T=T==null?"":""+T;return Q.test(T)?T.replace(O,P):T}};N.escape=x(s);N.unescape=x(n);N.result=function(O,Q,R){var P=O==null?void 0:O[Q];if(P===void 0){P=R}return N.isFunction(P)?P.call(O):P};var A=0;N.uniqueId=function(O){var P=++A+"";return O?O+P:P};N.templateSettings={evaluate:/\<\%([\s\S]+?)\%\>/g,interpolate:/\<\%\=([\s\S]+?)\%\>/g,escape:/\<\%\-([\s\S]+?)\%\>/g};var u=/(.)^/;var h={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var i=/\\|'|\r|\n|\u2028|\u2029/g;var H=function(O){return"\\"+h[O]};N.template=function(X,R,U){if(!R&&U){R=U}R=N.defaults({},R,N.templateSettings);var S=RegExp([(R.escape||u).source,(R.interpolate||u).source,(R.evaluate||u).source].join("|")+"|$","g");var T=0;var O="__p+='";X.replace(S,function(Z,aa,Y,ac,ab){O+=X.slice(T,ab).replace(i,H);T=ab+Z.length;if(aa){O+="'+\n((__t=("+aa+"))==null?'':_.escape(__t))+\n'"}else{if(Y){O+="'+\n((__t=("+Y+"))==null?'':__t)+\n'"}else{if(ac){O+="';\n"+ac+"\n__p+='"}}}return Z});O+="';\n";if(!R.variable){O="with(obj||{}){\n"+O+"}\n"}O="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+O+"return __p;\n";try{var Q=new Function(R.variable||"obj","_",O)}catch(V){V.source=O;throw V}var W=function(Y){return Q.call(this,Y,N)};var P=R.variable||"obj";W.source="function("+P+"){\n"+O+"}";return W};N.chain=function(P){var O=N(P);O._chain=true;return O};var p=function(O,P){return O._chain?N(P).chain():P};N.mixin=function(O){N.each(N.functions(O),function(P){var Q=N[P]=O[P];N.prototype[P]=function(){var R=[this._wrapped];L.apply(R,arguments);return p(this,Q.apply(N,R))}})};N.mixin(N);N.each(["pop","push","reverse","shift","sort","splice","unshift"],function(O){var P=I[O];N.prototype[O]=function(){var Q=this._wrapped;P.apply(Q,arguments);if((O==="shift"||O==="splice")&&Q.length===0){delete Q[0]}return p(this,Q)}});N.each(["concat","join","slice"],function(O){var P=I[O];N.prototype[O]=function(){return p(this,P.apply(this._wrapped,arguments))}});N.prototype.value=function(){return this._wrapped};N.prototype.valueOf=N.prototype.toJSON=N.prototype.value;N.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return N})}}.call(this));(function(b){var c=b._||require("underscore");var e=Array.prototype.slice,d=Array.prototype.concat;var a=function(f){return f!=null};c.mixin({cat:function(){return c.reduce(arguments,function(g,f){if(c.isArguments(f)){return d.call(g,e.call(f))}else{return d.call(g,f)}},[])},cons:function(g,f){return c.cat([g],f)},chunk:function(i,h,g){var f=function(l){if(l==null){return[]}var j=c.take(l,h);if(h===c.size(j)){return c.cons(j,f(c.drop(l,h)))}else{return g?[c.take(c.cat(j,g),h)]:[]}};return f(i)},chunkAll:function(i,h,f){f=(f!=null)?f:h;var g=function(m,l,j){if(c.isEmpty(m)){return[]}return c.cons(c.take(m,l),g(c.drop(m,j),l,j))};return g(i,h,f)},mapcat:function(g,f){return c.cat.apply(null,c.map(g,f))},interpose:function(h,f){if(!c.isArray(h)){throw new TypeError}var g=c.size(h);if(g===0){return h}if(g===1){return h}return e.call(c.mapcat(h,function(i){return c.cons(i,[f])}),0,-1)},weave:function(){if(!c.some(arguments)){return[]}if(arguments.length==1){return arguments[0]}return c.filter(c.flatten(c.zip.apply(null,arguments),true),function(f){return f!=null})},interleave:c.weave,repeat:function(f,g){return c.times(f,function(){return g})},cycle:function(g,f){return c.flatten(c.times(g,function(){return f}),true)},splitAt:function(g,f){return[c.take(g,f),c.drop(g,f)]},iterateUntil:function(j,i,g){var h=[];var f=j(g);while(i(f)){h.push(f);f=j(f)}return h},takeSkipping:function(j,i){var g=[];var h=c.size(j);if(i<=0){return[]}if(i===1){return j}for(var f=0;f<h;f+=i){g.push(j[f])}return g},reductions:function(j,f,i){var g=[];var h=i;c.each(j,function(m,l){h=f(h,j[l]);g.push(h)});return g},keepIndexed:function(g,f){return c.filter(c.map(c.range(c.size(g)),function(h){return f(h,g[h])}),a)},reverseOrder:function(f){if(typeof f=="string"){throw new TypeError("Strings cannot be reversed by _.reverseOrder")}return e.call(f).reverse()}})})(this);(function(b){var c=b._||require("underscore");var g=Array.prototype.slice,f=Array.prototype.concat;var a=function(h){return h!=null};var d=function(h){return(h!==false)&&a(h)};var e=function(h){return(c.isArray(h))||(c.isArguments(h))};c.mixin({second:function(j,i,h){if(j==null){return void 0}return(i!=null)&&!h?g.call(j,1,i):j[1]},third:function(j,i,h){if(j==null){return void 0}return(i!=null)&&!h?g.call(j,2,i):j[2]},nth:function(j,h,i){if((h!=null)&&!i){return j[h]}},takeWhile:function(l,h){if(!e(l)){throw new TypeError}var j=c.size(l);for(var i=0;i<j;i++){if(!d(h(l[i]))){break}}return c.take(l,i)},dropWhile:function(l,h){if(!e(l)){throw new TypeError}var j=c.size(l);for(var i=0;i<j;i++){if(!d(h(l[i]))){break}}return c.drop(l,i)},splitWith:function(i,h){return[c.takeWhile(i,h),c.dropWhile(i,h)]},partitionBy:function(m,h){if(c.isEmpty(m)||!a(m)){return[]}var i=c.first(m);var j=h(i);var l=f.call([i],c.takeWhile(c.rest(m),function(n){return c.isEqual(j,h(n))}));return f.call([l],c.partitionBy(c.drop(m,c.size(l)),h))},best:function(i,h){return c.reduce(i,function(j,l){return h(j,l)?j:l})},keep:function(i,h){if(!e(i)){throw new TypeError("expected an array as the first argument")}return c.filter(c.map(i,function(j){return h(j)}),a)}})})(this);(function(g){var h=g._||require("underscore");var i={};var f={};var c="Not a tree: same object found in two different branches";function a(j){return h.isElement(j)?j.children:j}function b(l,p,n,q,o,m){var j=[];return(function r(x,v,w){if(h.isObject(x)){if(j.indexOf(x)>=0){throw new TypeError(c)}j.push(x)}if(n){var t=n.call(o,x,v,w);if(t===f){return f}if(t===i){return}}var s;var y=p(x);if(h.isObject(y)&&!h.isEmpty(y)){if(m){s=h.isArray(x)?[]:{}}var u=h.any(y,function(B,A){var z=r(B,A,x);if(z===f){return true}if(s){s[A]=z}});if(u){return f}}if(q){return q.call(o,x,v,w,s)}})(l)}function e(n,j,l){var m=[];this.preorder(n,function(p,o){if(!l&&o==j){return i}if(h.has(p,j)){m[m.length]=p[j]}});return m}var d={find:function(n,m,l){var j;this.preorder(n,function(q,o,p){if(m.call(l,q,o,p)){j=q;return f}},l);return j},filter:function(n,o,m,l){var j=[];if(n==null){return j}o(n,function(r,p,q){if(m.call(l,r,p,q)){j.push(r)}},null,this._traversalStrategy);return j},reject:function(m,n,l,j){return this.filter(m,n,function(q,o,p){return !l.call(j,q,o,p)})},map:function(n,o,m,l){var j=[];o(n,function(r,p,q){j[j.length]=m.call(l,r,p,q)},null,this._traversalStrategy);return j},pluck:function(l,j){return e.call(this,l,j,false)},pluckRec:function(l,j){return e.call(this,l,j,true)},postorder:function(n,m,l,j){j=j||this._traversalStrategy;b(n,j,null,m,l)},preorder:function(n,m,l,j){j=j||this._traversalStrategy;b(n,j,m,null,l)},reduce:function(n,m,j,l){var o=function(s,q,r,p){return m(p||j,s,q,r)};return b(n,this._traversalStrategy,null,o,l,true)}};d.collect=d.map;d.detect=d.find;d.select=d.filter;h.walk=function(j){var l=h.clone(d);h.bindAll.apply(null,[l].concat(h.keys(l)));l._traversalStrategy=j||a;return l};h.extend(h.walk,h.walk())})(this);(function(b){var d=b._||require("underscore");function a(g){return function f(){if(arguments.length===1){return g.apply(this,arguments)}else{throw new RangeError("Only a single argument may be accepted.")}}}var c=(function(){function f(m,l,n,i,j,h){if(h===true){i.unshift(j)}else{i.push(j)}if(i.length==n){return m.apply(l,i)}else{return a(function(){return f(m,l,n,i.slice(0),arguments[0],h)})}}return function g(j,h){var i=this;return a(function(){return f(j,i,j.length,[],arguments[0],h)})}}());var e=(function(){var f=[];return function g(i){if(typeof i!=="function"){throw new Error("Argument 1 must be a function.")}var h=i.length;if(f[h]===undefined){f[h]=function(j){return function(){if(arguments.length!==h){throw new RangeError(h+" arguments must be applied.")}return j.apply(this,arguments)}}}return f[h](i)}}());d.mixin({fix:function(g){var h=d.rest(arguments);var i=function(){var j=h.slice();var f=0;for(var l=0;l<(j.length||f<arguments.length);l++){if(j[l]===d){j[l]=arguments[f++]}}return g.apply(null,j)};i._original=g;return i},unary:function(f){return function g(h){return f.call(this,h)}},binary:function(f){return function g(i,h){return f.call(this,i,h)}},ternary:function(f){return function g(i,h,j){return f.call(this,i,h,j)}},quaternary:function(f){return function g(i,h,l,j){return f.call(this,i,h,l,j)}},curry:c,rCurry:function(f){return c.call(this,f,true)},curry2:function(g){return a(function f(h){return a(function(i){return g.call(this,h,i)})})},curry3:function(f){return a(function(g){return a(function(h){return a(function(i){return f.call(this,g,h,i)})})})},rcurry2:function(f){return a(function(g){return a(function(h){return f.call(this,h,g)})})},rcurry3:function(f){return a(function(g){return a(function(h){return a(function(i){return f.call(this,i,h,g)})})})},enforce:e});d.arity=(function(){var f={};return function g(h,j){if(f[h]==null){var o=new Array(h);for(var m=0;m<h;++m){o[m]="__"+m}var l=o.join();var n="return function ("+l+") { return fun.apply(this, arguments); };";f[h]=new Function(["fun"],n)}if(j==null){return function(i){return g(h,i)}}else{return f[h](j)}}})()})(this);(function(f){var g=f._||require("underscore");var c=function(j){return j!=null};var h=function(j){return(j!==false)&&c(j)};var e=[].reverse;var b=[].slice;var a=[].map;var i=function(l){return function j(n,m){if(arguments.length===1){return function(o){return l(n,o)}}else{return l(n,m)}}};function d(j,l){return g.arity(j.length,function(){return j.apply(this,a.call(arguments,l))})}g.mixin({always:g.constant,pipeline:function(){var j=(g.isArray(arguments[0]))?arguments[0]:arguments;return function(l){return g.reduce(j,function(m,n){return n(m)},l)}},conjoin:function(){var j=arguments;return function(l){return g.every(l,function(m){return g.every(j,function(n){return n(m)})})}},disjoin:function(){var j=arguments;return function(l){return g.some(l,function(m){return g.some(j,function(n){return n(m)})})}},comparator:function(j){return function(l,m){if(h(j(l,m))){return -1}else{if(h(j(m,l))){return 1}else{return 0}}}},complement:function(j){return function(){return !j.apply(this,arguments)}},splat:function(j){return function(l){return j.apply(this,l)}},unsplat:function(j){var l=j.length;if(l<1){return j}else{if(l===1){return function(){return j.call(this,b.call(arguments,0))}}else{return function(){var n=arguments.length,p=b.call(arguments,0,l-1),m=Math.max(l-n-1,0),o=new Array(m),q=b.call(arguments,j.length-1);return j.apply(this,p.concat(o).concat([q]))}}}},unsplatl:function(j){var l=j.length;if(l<1){return j}else{if(l===1){return function(){return j.call(this,b.call(arguments,0))}}else{return function(){var m=arguments.length,n=b.call(arguments,Math.max(m-l+1,0)),o=b.call(arguments,0,Math.max(m-l+1,0));return j.apply(this,[o].concat(n))}}}},mapArgs:i(d),juxt:function(){var j=arguments;return function(){var l=arguments;return g.map(j,function(m){return m.apply(this,l)},this)}},fnull:function(j){var l=g.rest(arguments);return function(){var m=g.toArray(arguments);var o=g.size(l);for(var n=0;n<o;n++){if(!c(m[n])){m[n]=l[n]}}return j.apply(this,m)}},flip2:function(j){return function(){var l=b.call(arguments);l[0]=arguments[1];l[1]=arguments[0];return j.apply(this,l)}},flip:function(j){return function(){var l=e.call(arguments);return j.apply(this,l)}},functionalize:function(j){return function(l){return j.apply(l,g.rest(arguments))}},methodize:function(j){return function(){return j.apply(null,g.cons(this,arguments))}},k:g.always,t:g.pipeline});g.unsplatr=g.unsplat;g.mapArgsWith=i(g.flip(d));g.bound=function(l,m){var j=l[m];if(!g.isFunction(j)){throw new TypeError("Expected property to be a function")}return g.bind(j,l)}})(this);(function(a){var b=a._||require("underscore");var c=Array.prototype.slice;b.mixin({attempt:function(e,g){if(e==null){return void 0}var f=e[g];var d=c.call(arguments,2);return b.isFunction(f)?f.apply(e,d):void 0}})})(this);(function(v,i){var z=v._||require("underscore");var t={};function o(B){return function(C){return B.call(this,C)}}function b(B){return function(D,C){return B.call(this,D,C)}}function y(C,D,B){var F,E;if(B!==void 0){F=B}else{F=C()}E=C();while(E!=null){F=D.call(E,F,E);E=C()}return F}function p(B,D){var C=t;return function(){if(C===t){C=B}else{if(C!=null){C=D.call(C,C)}}return C}}function c(B,E){var D=B,F,C;return function(){if(D!=null){F=E.call(D,D);C=F[1];D=C!=null?F[0]:void 0;return C}else{return void 0}}}function j(B,D,C){var E=C;return function(){var F=B();if(F==null){return F}else{if(E===void 0){E=F}else{E=D.call(F,E,F)}return E}}}function A(B,D,C){var G=C,F,E;return function(){E=B();if(E==null){return E}else{if(G===void 0){G=E;return G}else{F=D.call(E,G,E);G=F[0];return F[1]}}}}function x(B,C){return function(){var D;D=B();if(D!=null){return C.call(D,D)}else{return void 0}}}function h(C,D){var B=null;return function(){var E;var F;if(B==null){F=C();if(F==null){B=null;return void 0}B=D.call(F,F)}while(E==null){E=B();if(E==null){F=C();if(F==null){B=null;return void 0}else{B=D.call(F,F)}}}return E}}function s(B,C){return function(){var D;D=B();while(D!=null){if(C.call(D,D)){return D}D=B()}return void 0}}function g(B,C){return s(B,function(D){return !C(D)})}function r(B,C){return s(B,C)()}function u(B,C,D){var E=0;while(C-->0){B()}if(D!=null){return function(){if(++E<=D){return B()}else{return void 0}}}else{return B}}function m(B,C){return u(B,C==null?1:C)}function f(B,C){return u(B,0,C==null?1:C)}function d(C){var B=0;return function(){return C[B++]}}function w(E){var B,C,D;B=0;D=[];C=function(){var F,G;F=E[B++];if(F instanceof Array){D.push({array:E,index:B});E=F;B=0;return C()}else{if(F===void 0){if(D.length>0){G=D.pop();E=G.array;B=G.index;return C()}else{return void 0}}else{return F}}};return C}function n(B){return function(){return B}}function a(D,C,B){return function(){var E;if(D>C){return void 0}else{E=D;D=D+B;return E}}}function e(D,C,B){return function(){var E;if(D<C){return void 0}else{E=D;D=D-B;return E}}}function q(D,C,B){if(D==null){return a(1,Infinity,1)}else{if(C==null){return a(D,Infinity,1)}else{if(B==null){if(D<=C){return a(D,C,1)}else{return e(D,C,1)}}else{if(B>0){return a(D,C,B)}else{if(B<0){return e(D,C,Math.abs(B))}else{return k(D)}}}}}}var l=o(q);z.iterators={accumulate:j,accumulateWithReturn:A,foldl:y,reduce:y,unfold:p,unfoldWithReturn:c,map:x,mapcat:h,select:s,reject:g,filter:s,find:r,slice:u,drop:m,take:f,List:d,Tree:w,constant:n,K:n,numbers:l,range:q}})(this,void 0);(function(a){var b=a._||require("underscore");b.mixin({isInstanceOf:function(c,d){return(c instanceof d)},isAssociative:function(c){return b.isArray(c)||b.isObject(c)||b.isArguments(c)},isIndexed:function(c){return b.isArray(c)||b.isString(c)||b.isArguments(c)},isSequential:function(c){return(b.isArray(c))||(b.isArguments(c))},isPlainObject:function(c){return b.isObject(c)&&c.constructor===a.Object},isZero:function(c){return 0===c},isEven:function(c){return b.isFinite(c)&&(c&1)===0},isOdd:function(c){return b.isFinite(c)&&!b.isEven(c)},isPositive:function(c){return c>0},isNegative:function(c){return c<0},isValidDate:function(c){return b.isDate(c)&&!b.isNaN(c.getTime())},isNumeric:function(c){return !isNaN(parseFloat(c))&&isFinite(c)},isInteger:function(c){return b.isNumeric(c)&&c%1===0},isFloat:function(c){return b.isNumeric(c)&&!b.isInteger(c)},isJSON:function(d){try{JSON.parse(d)}catch(c){return false}return true},isIncreasing:function(){var d=b.size(arguments);if(d===1){return true}if(d===2){return arguments[0]<arguments[1]}for(var c=1;c<d;c++){if(arguments[c-1]>=arguments[c]){return false}}return true},isDecreasing:function(){var d=b.size(arguments);if(d===1){return true}if(d===2){return arguments[0]>arguments[1]}for(var c=1;c<d;c++){if(arguments[c-1]<=arguments[c]){return false}}return true}})})(this);(function(b){var c=b._||require("underscore");var g=Array.prototype.slice,e=Array.prototype.concat;var a=function(i){return i!=null};var d=function(i){return(i!==false)&&a(i)};var h=function(i){return c.isArray(i)||c.isObject(i)};var f=function(i){return function(j){return function(l){return i(l,j)}}};c.mixin({merge:function(){var i=c.some(arguments)?{}:null;if(d(i)){c.extend.apply(null,e.call([i],c.toArray(arguments)))}return i},renameKeys:function(j,i){return c.reduce(i,function(n,m,l){if(a(j[l])){n[m]=j[l];return n}else{return n}},c.omit.apply(null,e.call([j],c.keys(i))))},snapshot:function(l){if(l==null||typeof(l)!="object"){return l}var i=new l.constructor();for(var j in l){if(l.hasOwnProperty(j)){i[j]=c.snapshot(l[j])}}return i},updatePath:function(j,n,p,o){if(!h(j)){throw new TypeError("Attempted to update a non-associative object.")}if(!a(p)){return n(j)}var i=c.isArray(p);var r=i?p:[p];var m=i?c.snapshot(j):c.clone(j);var q=c.last(r);var l=m;c.each(c.initial(r),function(s){if(o&&!c.has(l,s)){l[s]=c.clone(o)}l=l[s]});l[q]=n(l[q]);return m},setPath:function(l,j,m,i){if(!a(m)){throw new TypeError("Attempted to set a property at a null path.")}return c.updatePath(l,function(){return j},m,i)},frequencies:f(c.countBy)(c.identity)})})(this);(function(c){var e=c._||require("underscore");var f=Array.prototype.concat;var b=Array.prototype;var g=b.slice;e.mixin({accessor:function(h){return function(i){return(i&&i[h])}},dictionary:function(h){return function(i){return(h&&i&&h[i])}},selectKeys:function(h,i){return e.pick.apply(null,f.call([h],i))},kv:function(i,h){if(e.has(i,h)){return[h,i[h]]}return void 0},getPath:function a(h,i){if(typeof i=="string"){i=i.split(".")}if(h===undefined){return void 0}if(i.length===0){return h}if(h===null){return void 0}return a(h[e.first(i)],e.rest(i))},hasPath:function d(i,j){if(typeof j=="string"){j=j.split(".")}var h=j.length;if(i==null&&h>0){return false}if(!(j[0] in i)){return false}if(h===1){return true}return d(i[e.first(j)],e.rest(j))},pickWhen:function(i,h){var j={};e.each(i,function(m,l){if(h(i[l])){j[l]=i[l]}});return j},omitWhen:function(i,h){return e.pickWhen(i,function(j){return !h(j)})}})})(this);(function(a){var b=a._||require("underscore");b.mixin({exists:function(c){return c!=null},truthy:function(c){return(c!==false)&&b.exists(c)},falsey:function(c){return !b.truthy(c)},not:function(c){return !c},firstExisting:function(){for(var c=0;c<arguments.length;c++){if(arguments[c]!=null){return arguments[c]}}}})})(this);(function(v){var B=v._||require("underscore");function x(C){return function(){return B.reduce(arguments,C)}}function d(C){return function(){var D;for(var E=0;E<arguments.length-1;E++){D=C(arguments[E],arguments[E+1]);if(D===false){return D}}return D}}function o(C){return function(){return !C.apply(this,arguments)}}function q(C,D){return C+D}function l(C,D){return C-D}function w(C,D){return C*D}function p(C,D){return C/D}function y(C,D){return C%D}function m(C){return ++C}function t(C){return --C}function a(C){return -C}function n(C,D){return C&D}function z(C,D){return C|D}function g(C,D){return C^D}function f(C,D){return C<<D}function h(C,D){return C>>D}function b(C,D){return C>>>D}function u(C){return ~C}function A(C,D){return C==D}function s(C,D){return C===D}function e(C){return !C}function r(C,D){return C>D}function i(C,D){return C<D}function j(C,D){return C>=D}function c(C,D){return C<=D}B.mixin({add:x(q),sub:x(l),mul:x(w),div:x(p),mod:y,inc:m,dec:t,neg:a,eq:d(A),seq:d(s),neq:o(d(A)),sneq:o(d(s)),not:e,gt:d(r),lt:d(i),gte:d(j),lte:d(c),bitwiseAnd:x(n),bitwiseOr:x(z),bitwiseXor:x(g),bitwiseNot:u,bitwiseLeft:x(f),bitwiseRight:x(h),bitwiseZ:x(b)})})(this);(function(b){var e=b._||require("underscore");var d=/\+/g;var g=/\%20/g;var c=/(?:([^\[]+))|(?:\[(.*?)\])/g;var a=function(i){return decodeURIComponent(i.replace(d,"%20"))};var h=function(i){return encodeURIComponent(i).replace(g,"+")};var f=function(i,l,j){if(e.isUndefined(j)){j=true}if(e.isArray(l)){return e.map(l,function(n,m){return f(j?m:i+"[]",n,false)}).join("&")}else{if(e.isObject(l)){return e.map(l,function(n,m){return f(j?m:i+"["+m+"]",n,false)}).join("&")}else{return h(i)+"="+h(l)}}};e.mixin({explode:function(i){return i.split("")},fromQuery:function(n){var r=n.split("&"),l={},o,p,m,q,j,i;e.each(r,function(s){s=s.split("=");p=a(s[0]);q=p;i=l;c.lastIndex=0;while((m=c.exec(p))!==null){if(!e.isUndefined(m[1])){j=m[1]}else{j=m[2];i[q]=i[q]||(j?{}:[]);i=i[q]}q=j||e.size(i)}i[q]=a(s[1])});return l},implode:function(i){return i.join("")},camelCase:function(i){return i.replace(/-([a-z])/g,function(j){return j[1].toUpperCase()})},toDash:function(i){i=i.replace(/([A-Z])/g,function(j){return"-"+j.toLowerCase()});return(i.charAt(0)=="-")?i.substr(1):i},toQuery:function(i){return f("",i)},strContains:function(j,i){if(typeof j!="string"){throw new TypeError}return(j.indexOf(i)!=-1)}})})(this);(function(a){var b=a._||require("underscore");b.mixin({done:function(d){var c=b(d);c.stopTrampoline=true;return c},trampoline:function(d){var c=d.apply(d,b.rest(arguments));while(b.isFunction(c)){c=c();if((c instanceof b)&&(c.stopTrampoline)){break}}return c.value()}})})(this);(function(){function U(am){return typeof am==="function"||(typeof am==="object"&&am!==null)}function t(am){return typeof am==="function"}function ak(am){return typeof am==="object"&&am!==null}var ah;if(!Array.isArray){ah=function(am){return Object.prototype.toString.call(am)==="[object Array]"}}else{ah=Array.isArray}var M=ah;var y=Date.now||function(){return new Date().getTime()};function B(){}var f=(Object.create||function(am){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof am!=="object"){throw new TypeError("Argument must be an object")}B.prototype=am;return new B()});var af=0;var p=function S(an,am){ae[af]=an;ae[af+1]=am;af+=2;if(af===2){c()}};var L=(typeof window!=="undefined")?window:{};var w=L.MutationObserver||L.WebKitMutationObserver;var o=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function P(){return function(){process.nextTick(ag)}}function aa(){var ao=0;var am=new w(ag);var an=document.createTextNode("");am.observe(an,{characterData:true});return function(){an.data=(ao=++ao%2)}}function Q(){var am=new MessageChannel();am.port1.onmessage=ag;return function(){am.port2.postMessage(0)}}function W(){return function(){setTimeout(ag,1)}}var ae=new Array(1000);function ag(){for(var an=0;an<af;an+=2){var ao=ae[an];var am=ae[an+1];ao(am);ae[an]=undefined;ae[an+1]=undefined}af=0}var c;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){c=P()}else{if(w){c=aa()}else{if(o){c=Q()}else{c=W()}}}function r(){}var C=void 0;var X=1;var D=2;var ad=new aj();function ab(){return new TypeError("You cannot resolve a promise with itself")}function K(){return new TypeError("A promises callback cannot return that same promise.")}function T(an){try{return an.then}catch(am){ad.error=am;return ad}}function e(aq,ao,an,am){try{aq.call(ao,an,am)}catch(ap){return ap}}function V(ao,am,an){p(function(ar){var aq=false;var ap=e(an,am,function(at){if(aq){return}aq=true;if(am!==at){m(ar,at)}else{l(ar,at)}},function(at){if(aq){return}aq=true;J(ar,at)},"Settle: "+(ar._label||" unknown promise"));if(!aq&&ap){aq=true;J(ar,ap)}},ao)}function g(an,am){if(am._state===X){l(an,am._result)}else{if(an._state===D){J(an,am._result)}else{al(am,undefined,function(ao){m(an,ao)},function(ao){J(an,ao)})}}}function h(ao,am){if(am.constructor===ao.constructor){g(ao,am)}else{var an=T(am);if(an===ad){J(ao,ad.error)}else{if(an===undefined){l(ao,am)}else{if(t(an)){V(ao,am,an)}else{l(ao,am)}}}}}function m(an,am){if(an===am){J(an,ab())}else{if(U(am)){h(an,am)}else{l(an,am)}}}function O(am){if(am._onerror){am._onerror(am._result)}j(am)}function l(an,am){if(an._state!==C){return}an._result=am;an._state=X;if(an._subscribers.length===0){}else{p(j,an)}}function J(an,am){if(an._state!==C){return}an._state=D;an._result=am;p(O,an)}function al(am,ar,aq,ap){var ao=am._subscribers;var an=ao.length;am._onerror=null;ao[an]=ar;ao[an+X]=aq;ao[an+D]=ap;if(an===0&&am._state){p(j,am)}}function j(aq){var ap=aq._subscribers;var am=aq._state;if(ap.length===0){return}var at,ar,ao=aq._result;for(var an=0;an<ap.length;an+=3){at=ap[an];ar=ap[an+am];if(at){Z(am,at,ar,ao)}else{ar(ao)}}aq._subscribers.length=0}function aj(){this.error=null}var s=new aj();function I(ao,am){try{return ao(am)}catch(an){s.error=an;return s}}function Z(at,av,ar,ao){var am=t(ar),aq,ap,au,an;if(am){aq=I(ar,ao);if(aq===s){an=true;ap=aq.error;aq=null}else{au=true}if(av===aq){J(av,K());return}}else{aq=ao;au=true}if(av._state!==C){}else{if(am&&au){m(av,aq)}else{if(an){J(av,ap)}else{if(at===X){l(av,aq)}else{if(at===D){J(av,aq)}}}}}}function i(aq,ap){try{ap(function am(ar){m(aq,ar)},function ao(ar){J(aq,ar)})}catch(an){J(aq,an)}}function ai(ao,am,an){if(ao===X){return{state:"fulfilled",value:an}}else{return{state:"rejected",reason:an}}}function ac(ao,am,ap,an){this._instanceConstructor=ao;this.promise=new ao(r,an);this._abortOnReject=ap;if(this._validateInput(am)){this._input=am;this.length=am.length;this._remaining=am.length;this._init();if(this.length===0){l(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){l(this.promise,this._result)}}}else{J(this.promise,this._validationError())}}ac.prototype._validateInput=function(am){return M(am)};ac.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};ac.prototype._init=function(){this._result=new Array(this.length)};var N=ac;ac.prototype._enumerate=function(){var ao=this.length;var ap=this.promise;var am=this._input;for(var an=0;ap._state===C&&an<ao;an++){this._eachEntry(am[an],an)}};ac.prototype._eachEntry=function(an,am){var ao=this._instanceConstructor;if(ak(an)){if(an.constructor===ao&&an._state!==C){an._onerror=null;this._settledAt(an._state,am,an._result)}else{this._willSettleAt(ao.resolve(an),am)}}else{this._remaining--;this._result[am]=this._makeResult(X,am,an)}};ac.prototype._settledAt=function(ao,am,an){var ap=this.promise;if(ap._state===C){this._remaining--;if(this._abortOnReject&&ao===D){J(ap,an)}else{this._result[am]=this._makeResult(ao,am,an)}}if(this._remaining===0){l(ap,this._result)}};ac.prototype._makeResult=function(ao,am,an){return an};ac.prototype._willSettleAt=function(an,am){var ao=this;al(an,undefined,function(ap){ao._settledAt(X,am,ap)},function(ap){ao._settledAt(D,am,ap)})};var z=function x(am,an){return new N(this,am,true,an).promise};var E=function n(am,an){var au=this;var at=new au(r,an);if(!M(am)){J(at,new TypeError("You must pass an array to race."));return at}var ap=am.length;function ar(av){m(at,av)}function aq(av){J(at,av)}for(var ao=0;at._state===C&&ao<ap;ao++){al(au.resolve(am[ao]),undefined,ar,aq)}return at};var v=function A(an,am){var ap=this;if(an&&typeof an==="object"&&an.constructor===ap){return an}var ao=new ap(r,am);m(ao,an);return ao};var b=function G(an,am){var ap=this;var ao=new ap(r,am);J(ao,an);return ao};var H=0;function Y(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var R=d;function d(an,am){this._id=H++;this._label=am;this._state=undefined;this._result=undefined;this._subscribers=[];if(r!==an){if(!t(an)){Y()}if(!(this instanceof d)){q()}i(this,an)}}d.all=z;d.race=E;d.resolve=v;d.reject=b;d.prototype={constructor:d,then:function(ar,aq,an){var ao=this;var ap=ao._state;if(ap===X&&!ar||ap===D&&!aq){return this}ao._onerror=null;var au=new this.constructor(r,an);var am=ao._result;if(ap){var at=arguments[ap-1];p(function(){Z(ap,au,at,am)})}else{al(ao,au,ar,aq)}return au},"catch":function(an,am){return this.then(null,an,am)}};var u=function a(){var an;if(typeof global!=="undefined"){an=global}else{if(typeof window!=="undefined"&&window.document){an=window}else{an=self}}var am="Promise" in an&&"resolve" in an.Promise&&"reject" in an.Promise&&"all" in an.Promise&&"race" in an.Promise&&(function(){var ao;new an.Promise(function(ap){ao=ap});return t(ao)}());if(!am){an.Promise=R}};var F={Promise:R,polyfill:u};if(typeof define==="function"&&define.amd){define(function(){return F})}else{if(typeof module!=="undefined"&&module.exports){module.exports=F}else{if(typeof this!=="undefined"){this["ES6Promise"]=F}}}if(this["ES6Promise"]&&!this.Promise){this.Promise=F.Promise;this.polyfill=F.polyfill;if(typeof window==="undefined"){Promise=this.Promise;a=this.polyfill}}}).call(this);var requirejs,require,define;(function(global){var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.16",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!!(typeof window!=="undefined"&&typeof navigator!=="undefined"&&window.document),isWebWorker=!isBrowser&&typeof importScripts!=="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!=="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=false;function isFunction(it){return ostring.call(it)==="[object Function]"}function isArray(it){return ostring.call(it)==="[object Array]"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1){if(ary[i]&&func(ary[i],i,ary)){break}}}}function hasProp(obj,prop){return hasOwn.call(obj,prop)}function getOwn(obj,prop){return hasProp(obj,prop)&&obj[prop]}function eachProp(obj,func){var prop;for(prop in obj){if(hasProp(obj,prop)){if(func(obj[prop],prop)){break}}}}function mixin(target,source,force,deepStringMixin){if(source){eachProp(source,function(value,prop){if(force||!hasProp(target,prop)){if(deepStringMixin&&typeof value==="object"&&value&&!isArray(value)&&!isFunction(value)&&!(value instanceof RegExp)){if(!target[prop]){target[prop]={}}mixin(target[prop],value,force,deepStringMixin)}else{target[prop]=value}}})}return target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(err){throw err}function getGlobal(value){if(!value){return value}var g=global;each(value.split("."),function(part){g=g[part]});return g}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);e.requireType=id;e.requireModules=requireModules;if(err){e.originalError=err}return e}if(typeof define!=="undefined"){return}if(typeof requirejs!=="undefined"){if(isFunction(requirejs)){return}cfg=requirejs;requirejs=undefined}if(typeof require!=="undefined"&&!isFunction(require)){cfg=require;require=undefined}function newContext(contextName){var inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId,config={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},registry={},enabledRegistry={},undefEvents={},defQueue=[],defined={},urlFetched={},bundlesMap={},requireCounter=1,unnormalizedCounter=1;function trimDots(ary){var i,part;for(i=0;i<ary.length;i++){part=ary[i];if(part==="."){ary.splice(i,1);i-=1}else{if(part===".."){if(i===0||(i==1&&ary[2]==="..")||ary[i-1]===".."){continue}else{if(i>0){ary.splice(i-1,2);i-=2}}}}}}function normalize(name,baseName,applyMap){var pkgMain,mapValue,nameParts,i,j,nameSegment,lastIndex,foundMap,foundI,foundStarMap,starI,normalizedBaseParts,baseParts=(baseName&&baseName.split("/")),map=config.map,starMap=map&&map["*"];if(name){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}if(name[0].charAt(0)==="."&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}trimDots(name);name=name.join("/")}if(applyMap&&map&&(baseParts||starMap)){nameParts=name.split("/");outerLoop:for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=getOwn(map,baseParts.slice(0,j).join("/"));if(mapValue){mapValue=getOwn(mapValue,nameSegment);if(mapValue){foundMap=mapValue;foundI=i;break outerLoop}}}}if(!foundStarMap&&starMap&&getOwn(starMap,nameSegment)){foundStarMap=getOwn(starMap,nameSegment);starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}pkgMain=getOwn(config.pkgs,name);return pkgMain?pkgMain:name}function removeScript(name){if(isBrowser){each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName){scriptNode.parentNode.removeChild(scriptNode);return true}})}}function hasPathFallback(id){var pathConfig=getOwn(config.paths,id);if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1){pathConfig.shift();context.require.undef(id);context.makeRequire(null,{skipMap:true})([id]);return true}}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var url,pluginModule,suffix,nameParts,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=true,normalizedName="";if(!name){isDefine=false;name="_@r"+(requireCounter+=1)}nameParts=splitPrefix(name);prefix=nameParts[0];name=nameParts[1];if(prefix){prefix=normalize(prefix,parentName,applyMap);pluginModule=getOwn(defined,prefix)}if(name){if(prefix){if(pluginModule&&pluginModule.normalize){normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)})}else{normalizedName=name.indexOf("!")===-1?normalize(name,parentName,applyMap):name}}else{normalizedName=normalize(name,parentName,applyMap);nameParts=splitPrefix(normalizedName);prefix=nameParts[0];normalizedName=nameParts[1];isNormalized=true;url=context.nameToUrl(normalizedName)}}suffix=prefix&&!pluginModule&&!isNormalized?"_unnormalized"+(unnormalizedCounter+=1):"";return{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=getOwn(registry,id);if(!mod){mod=registry[id]=new context.Module(depMap)}return mod}function on(depMap,name,fn){var id=depMap.id,mod=getOwn(registry,id);if(hasProp(defined,id)&&(!mod||mod.defineEmitComplete)){if(name==="defined"){fn(defined[id])}}else{mod=getModule(depMap);if(mod.error&&name==="error"){fn(mod.error)}else{mod.on(name,fn)}}}function onError(err,errback){var ids=err.requireModules,notified=false;if(errback){errback(err)}else{each(ids,function(id){var mod=getOwn(registry,id);if(mod){mod.error=err;if(mod.events.error){notified=true;mod.emit("error",err)}}});if(!notified){req.onError(err)}}}function takeGlobalQueue(){if(globalDefQueue.length){apsp.apply(defQueue,[defQueue.length,0].concat(globalDefQueue));globalDefQueue=[]}}handlers={require:function(mod){if(mod.require){return mod.require}else{return(mod.require=context.makeRequire(mod.map))}},exports:function(mod){mod.usingExports=true;if(mod.map.isDefine){if(mod.exports){return(defined[mod.map.id]=mod.exports)}else{return(mod.exports=defined[mod.map.id]={})}}},module:function(mod){if(mod.module){return mod.module}else{return(mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return getOwn(config.config,mod.map.id)||{}},exports:mod.exports||(mod.exports={})})}}};function cleanRegistry(id){delete registry[id];delete enabledRegistry[id]}function breakCycle(mod,traced,processed){var id=mod.map.id;if(mod.error){mod.emit("error",mod.error)}else{traced[id]=true;each(mod.depMaps,function(depMap,i){var depId=depMap.id,dep=getOwn(registry,depId);if(dep&&!mod.depMatched[i]&&!processed[depId]){if(getOwn(traced,depId)){mod.defineDep(i,defined[depId]);mod.check()}else{breakCycle(dep,traced,processed)}}});processed[id]=true}}function checkLoaded(){var err,usingPathFallback,waitInterval=config.waitSeconds*1000,expired=waitInterval&&(context.startTime+waitInterval)<new Date().getTime(),noLoads=[],reqCalls=[],stillLoading=false,needCycleCheck=true;if(inCheckLoaded){return}inCheckLoaded=true;eachProp(enabledRegistry,function(mod){var map=mod.map,modId=map.id;if(!mod.enabled){return}if(!map.isDefine){reqCalls.push(mod)}if(!mod.error){if(!mod.inited&&expired){if(hasPathFallback(modId)){usingPathFallback=true;stillLoading=true}else{noLoads.push(modId);removeScript(modId)}}else{if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=true;if(!map.prefix){return(needCycleCheck=false)}}}}});if(expired&&noLoads.length){err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads);err.contextName=context.contextName;return onError(err)}if(needCycleCheck){each(reqCalls,function(mod){breakCycle(mod,{},{})})}if((!expired||usingPathFallback)&&stillLoading){if((isBrowser||isWebWorker)&&!checkLoadedTimeoutId){checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0;checkLoaded()},50)}}inCheckLoaded=false}Module=function(map){this.events=getOwn(undefEvents,map.id)||{};this.map=map;this.shim=getOwn(config.shim,map.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited){return}this.factory=factory;if(errback){this.on("error",errback)}else{if(this.events.error){errback=bind(this,function(err){this.emit("error",err)})}}this.depMaps=depMaps&&depMaps.slice(0);this.errback=errback;this.inited=true;this.ignore=options.ignore;if(options.enabled||this.enabled){this.enable()}else{this.check()}},defineDep:function(i,depExports){if(!this.depMatched[i]){this.depMatched[i]=true;this.depCount-=1;this.depExports[i]=depExports}},fetch:function(){if(this.fetched){return}this.fetched=true;context.startTime=(new Date()).getTime();var map=this.map;if(this.shim){context.makeRequire(this.map,{enableBuildCallback:true})(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))}else{return map.prefix?this.callPlugin():this.load()}},load:function(){var url=this.map.url;if(!urlFetched[url]){urlFetched[url]=true;context.load(this.map.id,url)}},check:function(){if(!this.enabled||this.enabling){return}var err,cjsModule,id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory;if(!this.inited){this.fetch()}else{if(this.error){this.emit("error",this.error)}else{if(!this.defining){this.defining=true;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if((this.events.error&&this.map.isDefine)||req.onError!==defaultOnError){try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}}else{exports=context.execCb(id,factory,depExports,exports)}if(this.map.isDefine&&exports===undefined){cjsModule=this.module;if(cjsModule){exports=cjsModule.exports}else{if(this.usingExports){exports=this.exports}}}if(err){err.requireMap=this.map;err.requireModules=this.map.isDefine?[this.map.id]:null;err.requireType=this.map.isDefine?"define":"require";return onError((this.error=err))}}else{exports=factory}this.exports=exports;if(this.map.isDefine&&!this.ignore){defined[id]=exports;if(req.onResourceLoad){req.onResourceLoad(context,this.map,this.depMaps)}}cleanRegistry(id);this.defined=true}this.defining=false;if(this.defined&&!this.defineEmitted){this.defineEmitted=true;this.emit("defined",this.exports);this.defineEmitComplete=true}}}}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix);this.depMaps.push(pluginMap);on(pluginMap,"defined",bind(this,function(plugin){var load,normalizedMap,normalizedMod,bundleId=getOwn(bundlesMap,this.map.id),name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,localRequire=context.makeRequire(map.parentMap,{enableBuildCallback:true});if(this.map.unnormalized){if(plugin.normalize){name=plugin.normalize(name,function(name){return normalize(name,parentName,true)})||""}normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap);on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:true,ignore:true})}));normalizedMod=getOwn(registry,normalizedMap.id);if(normalizedMod){this.depMaps.push(normalizedMap);if(this.events.error){normalizedMod.on("error",bind(this,function(err){this.emit("error",err)}))}normalizedMod.enable()}return}if(bundleId){this.map.url=context.nameToUrl(bundleId);this.load();return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:true})});load.error=bind(this,function(err){this.inited=true;this.error=err;err.requireModules=[id];eachProp(registry,function(mod){if(mod.map.id.indexOf(id+"_unnormalized")===0){cleanRegistry(mod.map.id)}});onError(err)});load.fromText=bind(this,function(text,textAlt){var moduleName=map.name,moduleMap=makeModuleMap(moduleName),hasInteractive=useInteractive;if(textAlt){text=textAlt}if(hasInteractive){useInteractive=false}getModule(moduleMap);if(hasProp(config.config,id)){config.config[moduleName]=config.config[id]}try{req.exec(text)}catch(e){return onError(makeError("fromtexteval","fromText eval for "+id+" failed: "+e,e,[id]))}if(hasInteractive){useInteractive=true}this.depMaps.push(moduleMap);context.completeLoad(moduleName);localRequire([moduleName],load)});plugin.load(map.name,localRequire,load,config)}));context.enable(pluginMap,this);this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){enabledRegistry[this.map.id]=this;this.enabled=true;this.enabling=true;each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap==="string"){depMap=makeModuleMap(depMap,(this.map.isDefine?this.map:this.map.parentMap),false,!this.skipMap);this.depMaps[i]=depMap;handler=getOwn(handlers,depMap.id);if(handler){this.depExports[i]=handler(this);return}this.depCount+=1;on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports);this.check()}));if(this.errback){on(depMap,"error",bind(this,this.errback))}else{if(this.events.error){on(depMap,"error",bind(this,function(err){this.emit("error",err)}))}}}id=depMap.id;mod=registry[id];if(!hasProp(handlers,id)&&mod&&!mod.enabled){context.enable(depMap,this)}}));eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=getOwn(registry,pluginMap.id);if(mod&&!mod.enabled){context.enable(pluginMap,this)}}));this.enabling=false;this.check()},on:function(name,cb){var cbs=this.events[name];if(!cbs){cbs=this.events[name]=[]}cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)});if(name==="error"){delete this.events[name]}}};function callGetModule(args){if(!hasProp(defined,args[0])){getModule(makeModuleMap(args[0],null,true)).init(args[1],args[2])}}function removeListener(node,func,name,ieName){if(node.detachEvent&&!isOpera){if(ieName){node.detachEvent(ieName,func)}}else{node.removeEventListener(name,func,false)}}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;removeListener(node,context.onScriptLoad,"load","onreadystatechange");removeListener(node,context.onScriptError,"error");return{node:node,id:node&&node.getAttribute("data-requiremodule")}}function intakeDefines(){var args;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]))}else{callGetModule(args)}}}context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,nextTick:req.nextTick,onError:onError,configure:function(cfg){if(cfg.baseUrl){if(cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"){cfg.baseUrl+="/"}}var shim=config.shim,objs={paths:true,bundles:true,config:true,map:true};eachProp(cfg,function(value,prop){if(objs[prop]){if(!config[prop]){config[prop]={}}mixin(config[prop],value,true,true)}else{config[prop]=value}});if(cfg.bundles){eachProp(cfg.bundles,function(value,prop){each(value,function(v){if(v!==prop){bundlesMap[v]=prop}})})}if(cfg.shim){eachProp(cfg.shim,function(value,id){if(isArray(value)){value={deps:value}}if((value.exports||value.init)&&!value.exportsFn){value.exportsFn=context.makeShimExports(value)}shim[id]=value});config.shim=shim}if(cfg.packages){each(cfg.packages,function(pkgObj){var location,name;pkgObj=typeof pkgObj==="string"?{name:pkgObj}:pkgObj;name=pkgObj.name;location=pkgObj.location;if(location){config.paths[name]=pkgObj.location}config.pkgs[name]=pkgObj.name+"/"+(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")})}eachProp(registry,function(mod,id){if(!mod.inited&&!mod.map.unnormalized){mod.map=makeModuleMap(id)}});if(cfg.deps||cfg.callback){context.require(cfg.deps||[],cfg.callback)}},makeShimExports:function(value){function fn(){var ret;if(value.init){ret=value.init.apply(global,arguments)}return ret||(value.exports&&getGlobal(value.exports))}return fn},makeRequire:function(relMap,options){options=options||{};function localRequire(deps,callback,errback){var id,map,requireMod;if(options.enableBuildCallback&&callback&&isFunction(callback)){callback.__requireJsBuild=true}if(typeof deps==="string"){if(isFunction(callback)){return onError(makeError("requireargs","Invalid require call"),errback)}if(relMap&&hasProp(handlers,deps)){return handlers[deps](registry[relMap.id])}if(req.get){return req.get(context,deps,relMap,localRequire)}map=makeModuleMap(deps,relMap,false,true);id=map.id;if(!hasProp(defined,id)){return onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName+(relMap?"":". Use require([])")))}return defined[id]}intakeDefines();context.nextTick(function(){intakeDefines();requireMod=getModule(makeModuleMap(null,relMap));requireMod.skipMap=options.skipMap;requireMod.init(deps,callback,errback,{enabled:true});checkLoaded()});return localRequire}mixin(localRequire,{isBrowser:isBrowser,toUrl:function(moduleNamePlusExt){var ext,index=moduleNamePlusExt.lastIndexOf("."),segment=moduleNamePlusExt.split("/")[0],isRelative=segment==="."||segment==="..";if(index!==-1&&(!isRelative||index>1)){ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length);moduleNamePlusExt=moduleNamePlusExt.substring(0,index)}return context.nameToUrl(normalize(moduleNamePlusExt,relMap&&relMap.id,true),ext,true)},defined:function(id){return hasProp(defined,makeModuleMap(id,relMap,false,true).id)},specified:function(id){id=makeModuleMap(id,relMap,false,true).id;return hasProp(defined,id)||hasProp(registry,id)}});if(!relMap){localRequire.undef=function(id){takeGlobalQueue();var map=makeModuleMap(id,relMap,true),mod=getOwn(registry,id);removeScript(id);delete defined[id];delete urlFetched[map.url];delete undefEvents[id];eachReverse(defQueue,function(args,i){if(args[0]===id){defQueue.splice(i,1)}});if(mod){if(mod.events.defined){undefEvents[id]=mod.events}cleanRegistry(id)}}}return localRequire},enable:function(depMap){var mod=getOwn(registry,depMap.id);if(mod){getModule(depMap).enable()}},completeLoad:function(moduleName){var found,args,mod,shim=getOwn(config.shim,moduleName)||{},shExports=shim.exports;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found){break}found=true}else{if(args[0]===moduleName){found=true}}callGetModule(args)}mod=getOwn(registry,moduleName);if(!found&&!hasProp(defined,moduleName)&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName)){return}else{return onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]))}}else{callGetModule([moduleName,(shim.deps||[]),shim.exportsFn])}}checkLoaded()},nameToUrl:function(moduleName,ext,skipExt){var paths,syms,i,parentModule,url,parentPath,bundleId,pkgMain=getOwn(config.pkgs,moduleName);if(pkgMain){moduleName=pkgMain}bundleId=getOwn(bundlesMap,moduleName);if(bundleId){return context.nameToUrl(bundleId,ext,skipExt)}if(req.jsExtRegExp.test(moduleName)){url=moduleName+(ext||"")}else{paths=config.paths;syms=moduleName.split("/");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join("/");parentPath=getOwn(paths,parentModule);if(parentPath){if(isArray(parentPath)){parentPath=parentPath[0]}syms.splice(0,i,parentPath);break}}url=syms.join("/");url+=(ext||(/^data\:|\?/.test(url)||skipExt?"":".js"));url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type==="load"||(readyRegExp.test((evt.currentTarget||evt.srcElement).readyState))){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id)){return onError(makeError("scripterror","Script error for: "+data.id,evt,[data.id]))}}};context.require=context.makeRequire();return context}req=requirejs=function(deps,callback,errback,optional){var context,config,contextName=defContextName;if(!isArray(deps)&&typeof deps!=="string"){config=deps;if(isArray(callback)){deps=callback;callback=errback;errback=optional}else{deps=[]}}if(config&&config.context){contextName=config.context}context=getOwn(contexts,contextName);if(!context){context=contexts[contextName]=req.s.newContext(contextName)}if(config){context.configure(config)}return context.require(deps,callback,errback)};req.config=function(config){return req(config)};req.nextTick=typeof setTimeout!=="undefined"?function(fn){setTimeout(fn,4)}:function(fn){fn()};if(!require){require=req}req.version=version;req.jsExtRegExp=/^\/|:|\?|\.js$/;req.isBrowser=isBrowser;s=req.s={contexts:contexts,newContext:newContext};req({});each(["toUrl","undef","defined","specified"],function(prop){req[prop]=function(){var ctx=contexts[defContextName];return ctx.require[prop].apply(ctx,arguments)}});if(isBrowser){head=s.head=document.getElementsByTagName("head")[0];baseElement=document.getElementsByTagName("base")[0];if(baseElement){head=s.head=baseElement.parentNode}}req.onError=defaultOnError;req.createNode=function(config,moduleName,url){var node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");node.type=config.scriptType||"text/javascript";node.charset="utf-8";node.async=true;return node};req.load=function(context,moduleName,url){var config=(context&&context.config)||{},node;if(isBrowser){node=req.createNode(config,moduleName,url);node.setAttribute("data-requirecontext",context.contextName);node.setAttribute("data-requiremodule",moduleName);if(node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0)&&!isOpera){useInteractive=true;node.attachEvent("onreadystatechange",context.onScriptLoad)}else{node.addEventListener("load",context.onScriptLoad,false);node.addEventListener("error",context.onScriptError,false)}node.src=url;currentlyAddingScript=node;if(baseElement){head.insertBefore(node,baseElement)}else{head.appendChild(node)}currentlyAddingScript=null;return node}else{if(isWebWorker){try{importScripts(url);context.completeLoad(moduleName)}catch(e){context.onError(makeError("importscripts","importScripts failed for "+moduleName+" at "+url,e,[moduleName]))}}}};function getInteractiveScript(){if(interactiveScript&&interactiveScript.readyState==="interactive"){return interactiveScript}eachReverse(scripts(),function(script){if(script.readyState==="interactive"){return(interactiveScript=script)}});return interactiveScript}if(isBrowser&&!cfg.skipDataMain){eachReverse(scripts(),function(script){if(!head){head=script.parentNode}dataMain=script.getAttribute("data-main");if(dataMain){mainScript=dataMain;if(!cfg.baseUrl){src=mainScript.split("/");mainScript=src.pop();subPath=src.length?src.join("/")+"/":"./";cfg.baseUrl=subPath}mainScript=mainScript.replace(jsSuffixRegExp,"");if(req.jsExtRegExp.test(mainScript)){mainScript=dataMain}cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript];return true}})}define=function(name,deps,callback){var node,context;if(typeof name!=="string"){callback=deps;deps=name;name=null}if(!isArray(deps)){callback=deps;deps=null}if(!deps&&isFunction(callback)){deps=[];if(callback.length){callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)});deps=(callback.length===1?["require"]:["require","exports","module"]).concat(deps)}}if(useInteractive){node=currentlyAddingScript||getInteractiveScript();if(node){if(!name){name=node.getAttribute("data-requiremodule")}context=contexts[node.getAttribute("data-requirecontext")]}}(context?context.defQueue:globalDefQueue).push([name,deps,callback])};define.amd={jQuery:true};req.exec=function(text){return eval(text)};req(cfg)}(this));(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}if(typeof JSON.format!=="function"){function repeat(s,count){return new Array(count+1).join(s)}JSON.format=function(json,cr){json=this.stringify(json);var i=0,il=0,tab="\t",output="",indentLevel=0,inString=false,currentChar=null;for(i=0,il=json.length;i<il;i+=1){currentChar=json.charAt(i);switch(currentChar){case"{":case"[":if(!inString){output+=currentChar+"\n"+repeat(tab,indentLevel+1);indentLevel+=1}else{output+=currentChar}break;case"}":case"]":if(!inString){indentLevel-=1;output+="\n"+repeat(tab,indentLevel)+currentChar}else{output+=currentChar}break;case",":if(!inString){output+=",\n"+repeat(tab,indentLevel)}else{output+=currentChar}break;case":":if(!inString){output+=": "}else{output+=currentChar}break;case" ":case"\n":case"\t":if(inString){output+=currentChar}break;case'"':if(i>0&&json.charAt(i-1)!=="\\"){inString=!inString}output+=currentChar;break;default:output+=currentChar;break}}if(cr){output=output.replace(/\n/g,"\r\n")}return output}}}());(function(){Date.prototype.format=function(b){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(b)){b=b.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var a in c){if(new RegExp("("+a+")").test(b)){b=b.replace(RegExp.$1,RegExp.$1.length==1?c[a]:("00"+c[a]).substr((""+c[a]).length))}}return b};Date.prototype.ago=function(){if(!arguments.length){return""}var q=arguments,b=this.getTime(),m=!isNaN(q[0])?q[0]:new Date(q[0]).getTime(),h=b-m,r="",c=1000*60,d=c*60,j=d*24,o=j*15,g=j*30,i=g*12,e=h/i,l=h/g,n=h/(7*j),p=h/j,a=h/d,f=h/c;if(e>=1){r=parseInt(e)+""}else{if(l>=1){r=parseInt(l)+""}else{if(n>=1){r=parseInt(n)+""}else{if(p>=1){r=parseInt(p)+""}else{if(a>=1){r=parseInt(a)+""}else{if(f>=1){r=parseInt(f)+""}else{r=""}}}}}}return r}})();(function(){var a=this._||require("underscore");a.proxy=function(d,c){return function(){var e=arguments;return d.apply(c,e)}};var b=function(c){this.init=c;this.privates={};this.publics={};this.overwriten=true;this.version="1.0";this.worksion="Series.Class";var e=this,d=function(){var h=a.clone(e.privates),g=a.clone(e.publics),f=this;a.each(g,function(j,i){f[i]=a.isFunction(j)?a.proxy(j,f):j});g=undefined;a.each(h,function(j,i){if(a.isFunction(j)){h[i]=a.proxy(j,h)}});this["private"]=function(i){return h[i]};this.property=function(i,j){h[i]=j;return this};e.init&&e.init.apply(this,arguments)};a.each(["private","public","define","property","instance","extend","worksion","privates","publics"],function(f){d[f]=a.isFunction(e[f])?a.proxy(e[f],e):e[f]});d.prototype.version=this.version;d.prototype.worksion=this.worksion;return d};b.prototype["private"]=function(c){return this.privates[c]};b.prototype["public"]=function(c){return this.publics[c]};b.prototype.define=function(d,c){this.publics[d]=c;return this};b.prototype.property=function(d,c){this.privates[d]=c;return this};b.prototype.instance=function(c){if(c.worksion&&c.worksion===this.worksion){c=c.privates}else{if(a.isPlainObject(c)){c=c}else{throw new Error("defintion can not been instance.")}}var d=this;a.each(c,function(f,e){if((d.privates[e]&&d.overwriten)||(a.isUndefined(d.privates[e]))){d.privates[e]=f}});return this};b.prototype.extend=function(c){if(c.worksion&&c.worksion===this.worksion){c=c.publics}else{if(a.isPlainObject(c)){c=c}else{throw new Error("defintion can not been extend.")}}var d=this;a.each(c,function(f,e){if((d.publics[e]&&d.overwriten)||(a.isUndefined(d.publics[e]))){d.publics[e]=f}});return this};b.prototype.overwrite=function(c){this.overwriten=!!c};this.Class=b}).call(this);(function(c){var b=c._||require("underscore");function d(n,j){var h=0;for(var l=n.length-1;l>=0;l--){var m=n[l];if(m==="."){n.splice(l,1)}else{if(m===".."){n.splice(l,1);h++}else{if(h){n.splice(l,1);h--}}}}if(j){for(;h--;h){n.unshift("..")}}return n}var g=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var e=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;var a=function(i){var h=g.exec(i),o=(h[1]||"")+(h[2]||""),m=h[3]||"";var l=e.exec(m),j=l[1],p=l[2],n=l[3];return[o,j,p,n]};var f=function(h){return"\\\\"+h.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")};this.resolve=function(){var l="",p="",s=false;for(var j=arguments.length-1;j>=-1;j--){var r;if(j>=0){r=arguments[j]}else{if(!l){r=process.cwd()}else{r=process.env["="+l];if(!r||r.substr(0,3).toLowerCase()!==l.toLowerCase()+"\\"){r=l+"\\"}}}if(!b.isString(r)){throw new TypeError("Arguments to path.resolve must be strings")}else{if(!r){continue}}var t=g.exec(r),h=t[1]||"",q=h&&h.charAt(1)!==":",n=this.isAbsolute(r),o=t[3];if(h&&l&&h.toLowerCase()!==l.toLowerCase()){continue}if(!l){l=h}if(!s){p=o+"\\"+p;s=n}if(l&&s){break}}if(q){l=f(l)}function m(i){return !!i}p=d(p.split(/[\\\/]+/).filter(m),!s).join("\\");return(l+(s?"\\":"")+p)||"."};this.normalize=function(n){var h=g.exec(n),l=h[1]||"",o=l&&l.charAt(1)!==":",m=this.isAbsolute(n),i=h[3],j=/[\\\/]$/.test(i);if(l&&l.charAt(1)===":"){l=l[0].toLowerCase()+l.substr(1)}i=d(i.split(/[\\\/]+/).filter(function(q){return !!q}),!m).join("\\");if(!i&&!m){i="."}if(i&&j){i+="\\"}if(o){l=f(l)}return l+(m?"\\":"")+i};this.isAbsolute=function(j){var h=g.exec(j),i=h[1]||"",l=!!i&&i.charAt(1)!==":";return !!h[2]||l};this.join=function(){function i(l){if(!b.isString(l)){throw new TypeError("Arguments to path.join must be strings")}return l}var j=Array.prototype.filter.call(arguments,i);var h=j.join("\\");if(!/^[\\\/]{2}[^\\\/]/.test(j[0])){h=h.replace(/^[\\\/]{2,}/,"\\")}return this.normalize(h)};this.relative=function(s,t){s=this.resolve(s);t=this.resolve(t);var q=s.toLowerCase();var r=t.toLowerCase();function l(i){var w=0;for(;w<i.length;w++){if(i[w]!==""){break}}var v=i.length-1;for(;v>=0;v--){if(i[v]!==""){break}}if(w>v){return[]}return i.slice(w,v+1)}var j=l(t.split("\\"));var n=l(q.split("\\"));var p=l(r.split("\\"));var h=Math.min(n.length,p.length);var u=h;for(var o=0;o<h;o++){if(n[o]!==p[o]){u=o;break}}if(u==0){return t}var m=[];for(var o=u;o<n.length;o++){m.push("..")}m=m.concat(j.slice(u));return m.join("\\")};this.sep="\\";this.delimiter=";";this.dirname=function(l){var h=a(l),i=h[0],j=h[1];if(!i&&!j){return"."}if(j){j=j.substr(0,j.length-1)}return i+j};this.basename=function(j,h){var i=a(j)[2];if(h&&i.substr(i.length-h.length)===h){i=i.substr(0,i.length-h.length)}return i};this.extname=function(h){return a(h)[3]}}).call(series.path,window);