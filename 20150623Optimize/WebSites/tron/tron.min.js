if(![].indexOf){Array.prototype.indexOf=function(B){var C=-1;for(var A=0;A<this.length;A++){if(B===this[A]){C=A;break}}return C};Array.prototype.lastIndexOf=function(B){var C=-1;for(var A=this.length-1;A>-1;A--){if(B===this[A]){C=A;break}}return C}}if(![].forEach){Array.prototype.forEach=function(A){for(var B=0;B<this.length;B++){if(typeof A==="function"){A.call(this,this[B],B)}}}}if(typeof JSON==="undefined"){window.JSON=new Object()}window.readVariableType=function(B,A){return Object.prototype.toString.call(B).toLowerCase()==="[object "+A+"]"};(function(){window.Class=function(){var A=["__constructor__","initialize"],B=arguments,C=this;var D=function(){this.__constructor__="ECM.CLASS.FACTORY";return typeof this.initialize==="function"?this.initialize.apply(this,arguments):this};this.constructor=D;this.constructor.__constructor__=this.__constructor__="ECM.CLASS";this.constructor.extend=function(F){if(F.__constructor__&&F.__constructor__==="ECM.CLASS"){if(F.prototype){for(var E in F.prototype){if(A.indexOf(E)===-1){C.constructor.prototype[E]=F.prototype[E]}}}}return C.constructor};this.constructor.toggle=function(E){if(!E){return C.constructor}if(readVariableType(E)!=="array"){E=[E]}for(var F=0;F<E.length;F++){C.constructor.extend(E[F])}return C.constructor};this.constructor.add=function(E,G){if(!G){for(var F in E){C.constructor.add(F,E[F])}}else{C.constructor.prototype[E]=G}return C.constructor};if(B.length===2){this.constructor.extend(B[0]);this.constructor.add(B[1])}else{if(B.length===1){if(B[0]&&B[0].__constructor__&&B[0].__constructor__==="ECM.CLASS"){this.constructor.extend(B[0])}else{if(typeof B[0]==="function"){this.constructor.add("initialize",B[0])}else{this.constructor.add(B[0])}}}}return this.constructor}})();(function(){function e(Am){return typeof Am==="function"||(typeof Am==="object"&&Am!==null)}function m(Am){return typeof Am==="function"}function Z(Am){return typeof Am==="object"&&Am!==null}var D;if(!Array.isArray){D=function(Am){return Object.prototype.toString.call(Am)==="[object Array]"}}else{D=Array.isArray}var J=D;var y=Date.now||function(){return new Date().getTime()};function r(){}var k=(Object.create||function(Am){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof Am!=="object"){throw new TypeError("Argument must be an object")}r.prototype=Am;return new r()});var z=0;var l=function Ab(Am,An){Ag[z]=Am;Ag[z+1]=An;z+=2;if(z===2){p()}};var F=(typeof window!=="undefined")?window:{};var O=F.MutationObserver||F.WebKitMutationObserver;var s=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function V(){return function(){process.nextTick(Aj)}}function d(){var An=0;var Ao=new O(Aj);var Am=document.createTextNode("");Ao.observe(Am,{characterData:true});return function(){Am.data=(An=++An%2)}}function R(){var Am=new MessageChannel();Am.port1.onmessage=Aj;return function(){Am.port2.postMessage(0)}}function L(){return function(){setTimeout(Aj,1)}}var Ag=new Array(1000);function Aj(){for(var An=0;An<z;An+=2){var Am=Ag[An];var Ao=Ag[An+1];Am(Ao);Ag[An]=undefined;Ag[An+1]=undefined}z=0}var p;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){p=V()}else{if(O){p=d()}else{if(s){p=R()}else{p=L()}}}function Af(){}var f=void 0;var u=1;var P=2;var I=new T();function W(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function Ai(Am){try{return Am.then}catch(An){I.error=An;return I}}function U(Am,Ao,Ap,Aq){try{Am.call(Ao,Ap,Aq)}catch(An){return An}}function b(An,Ao,Am){l(function(Aq){var Ap=false;var Ar=U(Am,Ao,function(As){if(Ap){return}Ap=true;if(Ao!==As){c(Aq,As)}else{Ac(Aq,As)}},function(As){if(Ap){return}Ap=true;A(Aq,As)},"Settle: "+(Aq._label||" unknown promise"));if(!Ap&&Ar){Ap=true;A(Aq,Ar)}},An)}function w(Am,An){if(An._state===u){Ac(Am,An._result)}else{if(Am._state===P){A(Am,An._result)}else{N(An,undefined,function(Ao){c(Am,Ao)},function(Ao){A(Am,Ao)})}}}function G(Ao,An){if(An.constructor===Ao.constructor){w(Ao,An)}else{var Am=Ai(An);if(Am===I){A(Ao,I.error)}else{if(Am===undefined){Ac(Ao,An)}else{if(m(Am)){b(Ao,An,Am)}else{Ac(Ao,An)}}}}}function c(Am,An){if(Am===An){A(Am,W())}else{if(e(An)){G(Am,An)}else{Ac(Am,An)}}}function C(Am){if(Am._onerror){Am._onerror(Am._result)}Ad(Am)}function Ac(Am,An){if(Am._state!==f){return}Am._result=An;Am._state=u;if(Am._subscribers.length===0){}else{l(Ad,Am)}}function A(An,Am){if(An._state!==f){return}An._state=P;An._result=Am;l(C,An)}function N(Ar,Ap,Am,Aq){var Ao=Ar._subscribers;var An=Ao.length;Ar._onerror=null;Ao[An]=Ap;Ao[An+u]=Am;Ao[An+P]=Aq;if(An===0&&Ar._state){l(Ad,Ar)}}function Ad(Ar){var An=Ar._subscribers;var As=Ar._state;if(An.length===0){return}var Aq,Am,Ap=Ar._result;for(var Ao=0;Ao<An.length;Ao+=3){Aq=An[Ao];Am=An[Ao+As];if(Aq){t(As,Aq,Am,Ap)}else{Am(Ap)}}Ar._subscribers.length=0}function T(){this.error=null}var M=new T();function Ak(Am,Ao){try{return Am(Ao)}catch(An){M.error=An;return M}}function t(As,Am,Aq,Au){var Ao=m(Aq),Ap,An,At,Ar;if(Ao){Ap=Ak(Aq,Au);if(Ap===M){Ar=true;An=Ap.error;Ap=null}else{At=true}if(Am===Ap){A(Am,o());return}}else{Ap=Au;At=true}if(Am._state!==f){}else{if(Ao&&At){c(Am,Ap)}else{if(Ar){A(Am,An)}else{if(As===u){Ac(Am,Ap)}else{if(As===P){A(Am,Ap)}}}}}}function Ae(Ao,Am){try{Am(function Aq(Ar){c(Ao,Ar)},function Ap(Ar){A(Ao,Ar)})}catch(An){A(Ao,An)}}function Aa(Ao,Am,An){if(Ao===u){return{state:"fulfilled",value:An}}else{return{state:"rejected",reason:An}}}function i(An,Ap,Ao,Am){this._instanceConstructor=An;this.promise=new An(Af,Am);this._abortOnReject=Ao;if(this._validateInput(Ap)){this._input=Ap;this.length=Ap.length;this._remaining=Ap.length;this._init();if(this.length===0){Ac(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){Ac(this.promise,this._result)}}}else{A(this.promise,this._validationError())}}i.prototype._validateInput=function(Am){return J(Am)};i.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};i.prototype._init=function(){this._result=new Array(this.length)};var x=i;i.prototype._enumerate=function(){var Am=this.length;var Ao=this.promise;var Ap=this._input;for(var An=0;Ao._state===f&&An<Am;An++){this._eachEntry(Ap[An],An)}};i.prototype._eachEntry=function(An,Am){var Ao=this._instanceConstructor;if(Z(An)){if(An.constructor===Ao&&An._state!==f){An._onerror=null;this._settledAt(An._state,Am,An._result)}else{this._willSettleAt(Ao.resolve(An),Am)}}else{this._remaining--;this._result[Am]=this._makeResult(u,Am,An)}};i.prototype._settledAt=function(Ap,Am,Ao){var An=this.promise;if(An._state===f){this._remaining--;if(this._abortOnReject&&Ap===P){A(An,Ao)}else{this._result[Am]=this._makeResult(Ap,Am,Ao)}}if(this._remaining===0){Ac(An,this._result)}};i.prototype._makeResult=function(Ao,Am,An){return An};i.prototype._willSettleAt=function(Ao,Am){var An=this;N(Ao,undefined,function(Ap){An._settledAt(u,Am,Ap)},function(Ap){An._settledAt(P,Am,Ap)})};var Ah=function h(An,Am){return new x(this,An,true,Am).promise};var Y=function S(As,Ao){var Ap=this;var Aq=new Ap(Af,Ao);if(!J(As)){A(Aq,new TypeError("You must pass an array to race."));return Aq}var An=As.length;function At(Au){c(Aq,Au)}function Am(Au){A(Aq,Au)}for(var Ar=0;Aq._state===f&&Ar<An;Ar++){N(Ap.resolve(As[Ar]),undefined,At,Am)}return Aq};var H=function g(Ao,Am){var An=this;if(Ao&&typeof Ao==="object"&&Ao.constructor===An){return Ao}var Ap=new An(Af,Am);c(Ap,Ao);return Ap};var K=function X(Ap,Am){var An=this;var Ao=new An(Af,Am);A(Ao,Ap);return Ao};var q=0;function v(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function n(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Al=E;function E(An,Am){this._id=q++;this._label=Am;this._state=undefined;this._result=undefined;this._subscribers=[];if(Af!==An){if(!m(An)){v()}if(!(this instanceof E)){n()}Ae(this,An)}}E.all=Ah;E.race=Y;E.resolve=H;E.reject=K;E.prototype={constructor:E,then:function(As,An,Aq){var At=this;var Ao=At._state;if(Ao===u&&!As||Ao===P&&!An){return this}At._onerror=null;var Ar=new this.constructor(Af,Aq);var Am=At._result;if(Ao){var Ap=arguments[Ao-1];l(function(){t(Ao,Ar,Ap,Am)})}else{N(At,Ar,As,An)}return Ar},"catch":function(An,Am){return this.then(null,An,Am)}};var Q=function B(){var An;if(typeof global!=="undefined"){An=global}else{if(typeof window!=="undefined"&&window.document){An=window}else{An=self}}var Am="Promise" in An&&"resolve" in An.Promise&&"reject" in An.Promise&&"all" in An.Promise&&"race" in An.Promise&&(function(){var Ao;new An.Promise(function(Ap){Ao=Ap});return m(Ao)}());if(!Am){An.Promise=Al}};var j={Promise:Al,polyfill:Q};if(typeof define==="function"&&define["amd"]){define(function(){return j})}else{if(typeof module!=="undefined"&&module["exports"]){module["exports"]=j}else{if(typeof this!=="undefined"){this["ES6Promise"]=j}}}if(this["ES6Promise"]&&window&&!window.Promise){window.Promise=j.Promise;window.polyfill=j.polyfill}}).call(this);(function(R,N,d){var Q=R.origin?R.origin:R.href.split("/").slice(0,3).join("/"),g=Q,n=R.href.split("?")[0];var X=/\\\\/g,h=/^\/.+/,V=/^http\:\/\//i,B=/^\.\.\/.+/,Y=/^\.\/.+/,i=/^\:.+/,J=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g;function H(){this.exports={};this.length=0;this.maps={};this.Promise=Promise.resolve();this.LoadedModules=[]}function f(){this.exports={};this.__modename=null;this.__filename=null;this.__dirname=null;this.dependencies=[];this.factory=function(){};this.async=false;this.inDefine=false}var A=new Class(function(){this.httpDomain=Q;this.httpBase=g;this.httpFile=n});A.add("onMap",function(o,p){window.modules.maps[o]=p;return this});A.add("setBase",function(o){if(o&&o.length>0){if(/^http:/i.test(o)){this.httpBase=o;this.httpDomain=o.split("/").slice(0,3).join("/")}else{this.httpBase+="/"+o}}if(/\/$/.test(this.httpBase)){this.httpBase=this.httpBase.replace(/\/$/,"")}return this});A.add("proxy",function(p,o){return function(){var q=arguments;return p.apply(o,q)}});H.prototype.status={pending:0,analyzed:1,required:2,compiled:3};H.prototype.debug=false;window.Library=new A();window.modules=new H();window.modules.debug=false;function e(s){var p={};var r=[];for(var o=0,t=s.length;o<t;o++){var q=s[o];if(p[q]!==1){p[q]=1;r.push(q)}}return r}function E(o){var q=[],p;J.lastIndex=0;o=o.replace(X,"");while((p=J.exec(o))){if(p[2]){q.push(p[2])}}return e(q)}function I(){if(window.document.currentScript){return window.document.currentScript}var o;try{a.b.c()}catch(p){o=p.stack;if(!o&&window.opera){o=(String(p).match(/of linked script \S+/g)||[]).join(" ")}}if(o){o=o.split(/[@ ]/g).pop();o=o[0]=="("?o.slice(1,-1):o;var t=o.replace(/(:\d+)?:\d+$/i,"");var s=N.getElementsByTagName("script");for(var u=0;u<s.length;u++){if(s[u].src.toLowerCase()==t.toLowerCase()){return s[u]}}}var s=N.getElementsByTagName("script");for(var q=0,r;r=s[q++];){if(r.readyState==="interactive"){return r}}}function m(){var o=I();if(!o){o=Array.prototype.slice.call(document.scripts,0).shift().src}return o}function K(p,o){if(window.modules.maps[p]){p=window.modules.maps[p]}if(h.test(p)){p=Library.httpDomain+p}else{if(V.test(p)){p=p}else{if(B.test(p)){p=P(o+"/"+p)}else{if(Y.test(p)){p=o+"/"+p.replace(/^\.\//,"")}else{if(i.test(p)){p=p.replace(/^:/,"").replace(/^\//,"");p=Library.httpBase+"/"+p}else{p=o+"/"+p.replace(/^\.\//,"")}}}}}return p}function S(p,o){p=K(p,o);if(!p){return}if(/\.css$/i.test(p)){p=p}else{if(/\.js$/i.test(p)){p=p}else{p+=".js"}}return p}function F(o,q,p){if(window.modules.maps[o]){o=window.modules.maps[o]}if(h.test(o)){o=p+o}else{if(V.test(o)){o=o}else{if(B.test(o)){o=P(p+"/"+o)}else{if(Y.test(o)){o=p+"/"+o.replace(/^\.\//,"")}else{o=q+"/"+o.replace(/^\.\//,"")}}}}if(/\.css$/i.test(o)){o=o}else{if(/\.js$/i.test(o)){o=o}else{o+=".js"}}return o}function P(q){var o=q.replace(Library.httpDomain,"");if(/^\//.test(o)){o=o.replace(/^\//,"")}var r=o.split("/"),t=r.indexOf("..");if(t>-1){t--;if(t<0){t=0;r.splice(0,1)}else{r.splice(t,2)}var s=r.join("/");if(!V.test(s)){s=Library.httpDomain+"/"+s}return P(s)}else{var u=r.join("/");if(!V.test(u)){u=Library.httpDomain+"/"+u}return u}}function L(p){var q=0;for(var o in p){q++}return q===0}function U(o){return new Promise(function(p){var q=document.createElement("script");q.onload=q.onerror=q.onreadystatechange=function(){if(/loaded|complete|undefined/i.test(q.readyState)){q.onload=q.onerror=q.onreadystatechange=null;p(q)}};q.async=true;q.src=o;N.insertBefore(q,N.firstChild)})}function l(o,q,p){return new Promise(function(s){var r=window.document.createElement("link");var t=q||window.document.getElementsByTagName("script")[0];var u=window.document.styleSheets;r.rel="stylesheet";r.href=o;r.media="only x";t.parentNode.insertBefore(r,t);var v=new Date().getTime();function w(){if(new Date().getTime()-v>30000){reject(r);return}var y;for(var x=0;x<u.length;x++){if(u[x].href&&u[x].href.indexOf(o)>-1){y=true}}if(y){r.media=p||"all";s(r)}else{setTimeout(w)}}w()})}function M(o){if(/\.css(?:\?|$)/i.test(o)){return l(o)}else{return U(o)}}function c(o){return o.split("/").slice(0,-1).join("/")}function Z(o,p){window.modules.exports[o.__modename].status=window.modules.status[p]}function b(o){return window.modules.exports[o.__modename].status}function G(o){var p=[];o.forEach(function(s){var q=null;try{q=window.modules.exports[s].module.exports}catch(r){}p.push(q)});return p}function C(p){try{return window.modules.exports[p].module.exports}catch(o){return null}}function O(){if(window.modules.debug){console.log.apply(console,arguments)}}window.define=window.define||function(){var v=null,p=[],r=null,o=false,q=false;for(var u=0;u<arguments.length;u++){var t=arguments[u];if(readVariableType(t,"function")){r=t}else{if(readVariableType(t,"boolean")){o=t}else{if(readVariableType(t,"array")){p=t}else{if(readVariableType(t,"string")){v=t}else{r=t}}}}}var w=m();if(!w){throw"can not find node";return}var y=new f();var x=[];if(r&&typeof r==="function"){x=E(r.toString())}if(x.length>0){p=p.concat(x)}y.__filename=w.src;y.__dirname=c(y.__filename);y.dependencies=p;y.factory=r;y.async=o;if(v&&v.length>0){y.__modename=v;O("pending[inDefine]:",y.__modename);y.__modename=S(y.__modename,y.__dirname);O("pending[inDefine]:",y.__modename);q=true;y.inDefine=true}else{y.__modename=y.__filename}if(window.modules.exports[y.__modename]){return}window.modules.exports[y.__modename]={};window.modules.exports[y.__modename].inDefine=y.inDefine;Z(y,"pending");O("pending:",y.__modename);var s=[];O("pending[dependencies]:",y.__modename,y.dependencies);if(y.dependencies.length>0){y.dependencies.forEach(function(z){if(q){s.push(F(z,y.__dirname,c(y.__modename)))}else{s.push(S(z,y.__dirname))}});y.dependencies=s}Z(y,"analyzed");O("analyzed:",y.__modename);if(!window.define.amd[y.__filename]){O("run on brower:",y.__modename,y);W(y)}else{O("require[regist]:",y.__modename);window.modules.LoadedModules.push(y);if(d){w.LoadedModules=Array.prototype.slice.call(window.modules.LoadedModules,0)}}};window.define.amd={};function W(o){k(o)}var j=new Class(function(o){this.AbsoluteHttpSelector=o;return this.compile()});j.add("compile",function(){var o=this.AbsoluteHttpSelector;return new Promise(function(p){window.define.amd[o]=true;O("require[pending]:",o);if(window.modules.exports[o]&&window.modules.exports[o].inDefine){if(window.modules.exports[o].status<3){O("require[inDefine][wait]:",o);T(o,p)}else{p()}}else{if(window.modules.exports[o]&&window.modules.exports[o].status<3){O("require[inDefine][wait]:",o);T(o,p)}else{if(!window.modules.exports[o]){M(o).then(function(s){var q=s.LoadedModules,t=[];if(!q){q=window.modules.LoadedModules}if(q.length===0){var r=new f();r.__filename=s.src?s.src:s.href;r.__modename=r.__filename;r.__dirname=c(r.__modename);window.modules.exports[r.__modename]={};Z(r,"analyzed");q=[r]}q=Array.prototype.slice.call(q,0);window.modules.LoadedModules=[];q.forEach(function(u){t.push(k(u))});O("require[loaded]:",o,t);Promise.all(t).then(function(){var u=s.src?s.src:s.href;if(/\.js$/.test(u)){s.parentNode.removeChild(s)}p();O("require[compiled]:",o,q)})})}else{p()}}}})});var T=function(p,o){setTimeout(function(){O("waiting:",p);if(window.modules.exports[p].status===3){O("waited:",p);o()}else{T(p,o)}},1)};window.require=function(p,o){return window.modules.Promise=window.modules.Promise.then(function(){if(!readVariableType(p,"array")){p=[p]}var s=[],r=[];for(var q=0;q<p.length;q++){var t=S(p[q],c(Library.httpFile));s.push(new j(t));r.push(t)}return Promise.all(s).then(function(){var u=G(r);typeof o==="function"&&o.apply(null,u);return Promise.resolve(u)})})};function k(o){var p=o.dependencies,q=o;O("dependencies[pending]:",o.__modename,p);return new Promise(function(r){if(p.length>0){if(!q.async){O("dependencies[doing][cmd]:",q.__modename);var u=[];p.forEach(function(v){O("dependencies[getting][cmd]:",v);u.push(new j(v))});Promise.all(u).then(function(){O("dependencies[getted][cmd]:",q.__modename);Z(q,"required");D(q,G(p));r()})}else{O("dependencies[doing][amd]:",o.__modename);var s=[];var t=function(x,y,v){if(x+1>y.length){v()}else{O("dependencies[getting][amd]:",y[x]);var w=new j(y[x]);w.then(function(){s.push(C(y[x]));O("dependencies[getted][amd]:",q.__modename);t(++x,y,v)})}};t(0,p,function(){O("dependencies[done]:",q.__modename);Z(q,"required");D(q,s);r()})}}else{O("dependencies[done]:",o.__modename,[]);Z(o,"required");D(o);r()}})}function D(o,p){var t=o.factory,q=function(u){u=S(u,o.__dirname);return C(u)};O("compile[pending]:",o.__modename);var r=null,p=p?p:[];o.require=q;o.resolve=function(u){return S.call(o,u,o.__dirname)};o.contrast=function(u){return K.call(o,u,o.__dirname)};O("compile[extend]:",o.__modename);window.modules.exports[o.__modename].module=o;try{p=p.concat([q,o.exports,o]);if(typeof t==="function"){r=t.apply(o,p)||null}else{r=t}O("compile[success]:",o.__modename,r)}catch(s){r=window.modules.exports[o.__modename].module.exports;O("compile[error]:",o.__modename,s.message)}if(r){window.modules.exports[o.__modename].module.exports=r}Z(o,"compiled");O("compile[end]:",o.__modename,r)}})(window.location,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,window.navigator.userAgent.indexOf("MSIE")>-1);(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());