<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<meta name="format-detection" content="telephone=no" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="renderer" content="webkit" />
		<meta http-equiv="pragma" content="no-cache" />
		<meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
		<title>按钮跳转</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			ul li{
				list-style-type: none;
				padding: 5px 0;
				text-align: center;
			}
			ul li input{
				width: 100px;
				height: 48px;
			}
		</style>
		<!--jquery-2.1.3-->
		<script type="text/javascript" src="/series/jquery/jquery-2.1.3.min.js"></script>
	</head>

	<body>
		<ul>
			<li>
				<input type="button" value="订单" data-type="20" data-value="640892" />
			</li>
			<li>
				<input type="button" value="专题H5" data-type="13" data-value="/SpecialSubject/statics/20150618.html" />
			</li>
			<li>
				<input type="button" value="点菜页" data-type="14" data-value="17" />
			</li>
			<li>
				<input type="button" value="红包列表" data-type="15" data-value="/AppPages/RedEnvelope/list.aspx?mobilePhone=15658035129" />
			</li>
			<li>
				<input type="button" value="订单列表" data-type="16" data-value="" />
			</li>
			<li>
				<input type="button" value="领红包H5" data-type="21" data-value="/AppPages/RedEnvelope/TreasureChest.aspx" />
			</li>
			<li>
				<input type="button" value="美食广场页面" data-type="22" data-value="" />
			</li>
			<li>
				<input type="button" value="首页" data-type="23" data-value="" />
			</li>
		</ul>
	</body>

	<script type="text/javascript">
		var device = getDevices();
		var inWx = navigator.userAgent.match(/MicroMessenger/i); // wei xin
		var inAp = device.iOS; // ios
		var inAn = device.Android;
		$('body').on('click', 'input', function() {
			var type = $(this).attr('data-type'),
				value = $(this).attr('data-value');
			if (inAp) {
				window.location = "message:type:" + type + ",value:" + value;
			} else if (inAn) {
				window.commonJSInterface.jsInvokeNativeMethod('{ "type": "' + type + '", "value": "' + value + '" }');
			}
		})

		function getDevices() {
			var u = navigator.userAgent,
				app = navigator.appVersion;
			return {
				trident: u.indexOf('Trident') > -1,
				presto: u.indexOf('Presto') > -1,
				webKit: u.indexOf('AppleWebKit') > -1,
				gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1,
				mobile: !!u.match(/AppleWebKit.*Mobile.*/),
				iOS: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),
				Android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1,
				iPhone: u.indexOf('iPhone') > -1,
				iPad: u.indexOf('iPad') > -1,
				webApp: u.indexOf('Safari') == -1,
			};
		};
	</script>

</html>